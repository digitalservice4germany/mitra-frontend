var N=Object.defineProperty;var V=(t,e,r)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var f=(t,e,r)=>(V(t,typeof e!="symbol"?e+"":e,r),r),I=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var y=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};var h=(t,e,r)=>(I(t,e,"access private method"),r);import{r as $,o as M,c as q,v as B,a as D,b as j,d as J,P as W}from"./vendor.e8bb2773.js";const Y=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}};Y();const G="modulepreload",v={},H="/mitra-frontend/",u=function(e,r){return!r||r.length===0?e():Promise.all(r.map(s=>{if(s=`${H}${s}`,s in v)return;v[s]=!0;const n=s.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const i=document.createElement("link");if(i.rel=n?"stylesheet":G,n||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),n)return new Promise((T,C)=>{i.addEventListener("load",T),i.addEventListener("error",C)})})).then(()=>e())},K=[{name:"mitra-frontend-open-playbook",path:"/mitra-frontend/open-playbook",component:()=>u(()=>import("./open-playbook.d53d5ce3.js"),["assets/open-playbook.d53d5ce3.js","assets/NavigateToHome.20fee967.js","assets/button.esm.f922e6b4.js","assets/vendor.e8bb2773.js"]),props:!0},{name:"mitra-frontend-open-contract",path:"/mitra-frontend/open-contract",component:()=>u(()=>import("./open-contract.58bb2873.js"),["assets/open-contract.58bb2873.js","assets/NavigateToHome.20fee967.js","assets/button.esm.f922e6b4.js","assets/vendor.e8bb2773.js"]),props:!0},{name:"mitra-frontend",path:"/mitra-frontend",component:()=>u(()=>import("./index.1a923ac6.js"),["assets/index.1a923ac6.js","assets/index.8ed648ad.css","assets/vendor.e8bb2773.js"]),props:!0},{name:"mitra-frontend-contract-id",path:"/mitra-frontend/contract/:id",component:()=>u(()=>import("./[id].698b7c6e.js"),["assets/[id].698b7c6e.js","assets/[id].a170f4b4.css","assets/vendor.e8bb2773.js","assets/button.esm.f922e6b4.js"]),props:!0}];var z=(t,e)=>{const r=t.__vccOpts||t;for(const[s,n]of e)r[s]=n;return r};const Q={};function U(t,e){const r=$("router-view");return M(),q(r)}var X=z(Q,[["render",U]]);const Z=t=>t instanceof l;class l{constructor(){f(this,"id");this.id=B()}equals(e){return e==null?!1:this===e?!0:Z(e)?this.id===e.id:!1}}class ee{}class _ extends ee{constructor(e=""){super();this.value=e}getValue(){return this.value}setValue(e){this.value=e}toString(){return this.value}}class te extends l{constructor(e,r,s){super();this.text=e,this.type=r,this.answer=s}getType(){return this.type}getAnswer(){return this.answer}setAnswer(e){this.answer.setValue(e)}}const m=class extends te{constructor(e,r=new _){super(e,m.TYPE,r)}clone(){return new m(this.text,this.answer)}};let o=m;f(o,"TYPE","TextAnswerStep");class c extends l{constructor(e,r=[]){super();this.text=e,this.steps=r}addSteps(...e){this.steps.push(...e)}clone(){return new c(this.text,this.steps.map(e=>e.clone()))}}class S extends l{constructor(e=[]){super();this.modules=e}addModules(...e){this.modules.push(...e)}}const re=new o("Schritt 1.1"),ne=new o("Schritt 1.2"),se=new o("Schritt 1.3"),oe=new o("Schritt 2.1"),ae=new o("Schritt 2.2"),ie=new o("Schritt 2.3"),ce=new o("Schritt 3.1"),ue=new o("Schritt 3.2"),le=new o("Schritt 3.3"),de=new o("Schritt 3.4"),g=new c("Rubrum"),k=new c("Gegenstand und Bestandteile des Vertrags"),P=new c("Gegenstand der Leistungen");g.addSteps(re,ne,se);k.addSteps(oe,ae,ie);P.addSteps(ce,ue,le,de);const b=new S;b.addModules(g,k,P);let x;const pe={load(){return x||b},save(t){x=t}};var p,E;const w=class extends l{constructor(e,r){super();y(this,p);this.title=e,this.modules=r}static fromPlaybook(e){const r=e.modules.map(s=>s.clone());return new w("",r)}getSteps(){return this.modules.flatMap(e=>e.steps)}getNextStepFor(e){return this.getSteps()[h(this,p,E).call(this,e)+1]}getPreviousStepFor(e){return this.getSteps()[h(this,p,E).call(this,e)-1]}getModules(){return this.modules}getModuleFor(e){return this.modules.find(r=>r.steps.find(s=>s.equals(e)))}};let d=w;p=new WeakSet,E=function(e){return this.getSteps().findIndex(r=>r.equals(e))};function L(t){return t.title.toLowerCase().replace(/\s/g,"-")}async function me(t,e){const r=await t.createWritable();await r.write(e),await r.close()}const fe={load(){return new d("",[])},async save(t){if(window.showSaveFilePicker){const e=await window.showSaveFilePicker({suggestedName:L(t),startIn:"desktop",types:[{accept:{"application/json":[".json"]}}]});await me(e,JSON.stringify(t))}else await u(()=>import("./FileSaver.min.297e5979.js").then(function(e){return e.F}),[]).then(({default:e})=>{const r=new Blob([JSON.stringify(t)],{type:"application/json;charset=utf-8"});e.saveAs(r,`${L(t)}.json`)})}};async function O(t){const e=new FileReader;return e.readAsText(t),await new Promise(r=>{e.onload=()=>{r(e.result)}})}function he(t){const e=t.modules.map(A);return new S(e)}function we(t){const e=t.modules.map(A);return new d(t.title,e)}function A(t){const e=t.steps.map(ye);return new c(t.text,e)}function ye(t){return o.TYPE===t.type?new o(t.text,new _(t.answer.value)):new o("")}const ve={load:async t=>{const e=await O(t),r=JSON.parse(e).playbook;return he(r)}},F=new Map,_e={load(t){return F.get(t)||new d("",[])},save(t,e){F.set(t,e)}},Se={load:async t=>{const e=await O(t),r=JSON.parse(e);return we(r)}},ge=()=>pe,Ae=()=>fe,Fe=()=>ve,Re=()=>Se,ke=()=>_e,Pe=D({history:j(),routes:K}),R=J(X).use(Pe).use(W);R.directive("focus",{mounted(t){t.focus()}});const be=ge(),xe=d.fromPlaybook(be.load()),Ee=ke();Ee.save("cloud-contract",xe);R.mount("#app");export{d as C,o as T,z as _,ke as a,Re as b,Ae as c,Fe as m};
