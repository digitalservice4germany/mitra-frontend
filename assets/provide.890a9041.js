var B=Object.defineProperty;var H=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var w=(e,t,n)=>(H(e,typeof t!="symbol"?t+"":t,n),n),J=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var k=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var b=(e,t,n)=>(J(e,t,"access private method"),n);import{D as r,i as M,j as O,o as h,c as g,e as U,g as y,h as W,t as C}from"./vendor.2b257d4b.js";function q(e){e.addEventListener("mousedown",P)}function G(e){e.removeEventListener("mousedown",P)}function Y(e){let t=document.createElement("span");t.className="p-ink",e.appendChild(t),t.addEventListener("animationend",E)}function X(e){let t=R(e);t&&(G(e),t.removeEventListener("animationend",E),t.remove())}function P(e){let t=e.currentTarget,n=R(t);if(!n||getComputedStyle(n,null).display==="none")return;if(r.removeClass(n,"p-ink-active"),!r.getHeight(n)&&!r.getWidth(n)){let p=Math.max(r.getOuterWidth(t),r.getOuterHeight(t));n.style.height=p+"px",n.style.width=p+"px"}let i=r.getOffset(t),a=e.pageX-i.left+document.body.scrollTop-r.getWidth(n)/2,l=e.pageY-i.top+document.body.scrollLeft-r.getHeight(n)/2;n.style.top=l+"px",n.style.left=a+"px",r.addClass(n,"p-ink-active")}function E(e){r.removeClass(e.currentTarget,"p-ink-active")}function R(e){for(let t=0;t<e.children.length;t++)if(typeof e.children[t].className=="string"&&e.children[t].className.indexOf("p-ink")!==-1)return e.children[t];return null}const $={mounted(e,t){t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.ripple&&(Y(e),q(e))},unmounted(e){X(e)}};var j={name:"Button",props:{label:{type:String},icon:{type:String},iconPos:{type:String,default:"left"},badge:{type:String},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"}},computed:{buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label}},iconClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&String(this.badge).length===1}]},disabled(){return this.$attrs.disabled||this.loading}},directives:{ripple:$}};const z={class:"p-button-label"};function K(e,t,n,i,a,l){const p=M("ripple");return O((h(),g("button",{class:l.buttonClass,type:"button",disabled:l.disabled},[U(e.$slots,"default",{},()=>[n.loading&&!n.icon?(h(),g("span",{key:0,class:l.iconClass},null,2)):y("",!0),n.icon?(h(),g("span",{key:1,class:l.iconClass},null,2)):y("",!0),W("span",z,C(n.label||"\xA0"),1),n.badge?(h(),g("span",{key:2,class:l.badgeStyleClass},C(n.badge),3)):y("",!0)])],10,["disabled"])),[[p]])}j.render=K;var m,Q=new Uint8Array(16);function Z(){if(!m&&(m=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(Q)}var _=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function tt(e){return typeof e=="string"&&_.test(e)}var s=[];for(var v=0;v<256;++v)s.push((v+256).toString(16).substr(1));function et(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!tt(n))throw TypeError("Stringified UUID is invalid");return n}function nt(e,t,n){e=e||{};var i=e.random||(e.rng||Z)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=i[a];return t}return et(i)}const st=e=>e instanceof u;class u{constructor(){w(this,"id");this.id=nt()}equals(t){return t==null?!1:this===t?!0:st(t)?this.id===t.id:!1}}class it{}class ot extends it{constructor(t=""){super();this.answer=t}getAnswer(){return this.answer}setAnswer(t){this.answer=t}toString(){return this.answer}}class A extends u{constructor(t,n){super();this.text=t,this.answer=n}getAnswer(){return this.answer}setAnswer(t){this.answer.setAnswer(t)}isUnanswered(){return!this.answer.getAnswer()}static fromJson(t){return new o(t.text)}}const f=class extends A{constructor(t,n=new ot){super(t,n)}getType(){return f.TYPE}clone(){return new f(this.text,this.answer)}};let o=f;w(o,"TYPE","TextAnswerStep");class d extends u{constructor(t,n=[]){super();this.text=t,this.steps=n}addSteps(...t){this.steps.push(...t)}clone(){return new d(this.text,this.steps.map(t=>t.clone()))}static fromJson(t){const n=t.steps.map(A.fromJson);return new d(t.text,n)}}class S extends u{constructor(t=[]){super();this.modules=t}addModules(...t){this.modules.push(...t)}static fromJson(t){const n=t.modules.map(d.fromJson);return new S(n)}}const rt=new o("Schritt 1.1"),at=new o("Schritt 1.2"),lt=new o("Schritt 1.3"),dt=new o("Schritt 2.1"),ut=new o("Schritt 2.2"),ct=new o("Schritt 2.3"),pt=new o("Schritt 3.1"),ht=new o("Schritt 3.2"),gt=new o("Schritt 3.3"),mt=new o("Schritt 3.4"),T=new d("Rubrum"),N=new d("Gegenstand und Bestandteile des Vertrags"),V=new d("Gegenstand der Leistungen");T.addSteps(rt,at,lt);N.addSteps(dt,ut,ct);V.addSteps(pt,ht,gt,mt);const L=new S;L.addModules(T,N,V);let D=L;const ft={load(){return D},save(e){D=e}};var c,I;const x=class extends u{constructor(t,n){super();k(this,c);this.title=t,this.modules=n}static fromPlaybook(t){const n=t.modules.map(i=>i.clone());return new x("",n)}getSteps(){return this.modules.flatMap(t=>t.steps)}getNextStepFor(t){return this.getSteps()[b(this,c,I).call(this,t)+1]}getPreviousStepFor(t){return this.getSteps()[b(this,c,I).call(this,t)-1]}getModules(){return this.modules}getModuleFor(t){return this.modules.find(n=>n.steps.find(i=>i.equals(t)))}};let F=x;c=new WeakSet,I=function(t){return this.getSteps().findIndex(n=>n.equals(t))};function wt(e){return e.title.toLowerCase().replace(/\s/g,"-")}async function bt(e,t){const n=await e.createWritable();await n.write(t),await n.close()}const yt={load(){return new F("",[])},async save(e){if(window.showSaveFilePicker){const t=await window.showSaveFilePicker({suggestedName:wt(e),startIn:"desktop",types:[{accept:{"application/json":[".json"]}}]});await bt(t,JSON.stringify(e))}}},xt=()=>ft,kt=()=>yt;export{F as C,S as P,$ as R,o as T,kt as a,xt as m,j as s};
