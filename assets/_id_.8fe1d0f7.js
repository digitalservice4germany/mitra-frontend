import{f as v,a6 as V,p as y,$ as K,r as R,K as D,o as d,g as k,h as e,i as o,u as s,w as i,a0 as F,a1 as L,F as E,q as I,t as u,L as U,Y as q,c as x,j as g}from"./vendor.080d7534.js";import{a as z,b as Y,_ as A,s as G}from"./Metadata.6031cbc4.js";import{s as $}from"./button.esm.a9f2ef5f.js";import{c as H,e as J,d as O}from"./provide.8e3eeacf.js";import{u as Q}from"./session.29bf2303.js";import{_ as W}from"./SideMenu.f7c99a00.js";import"./main.25f58d58.js";const X={class:"flex h-full"},Z={class:"flex-none"},ee={class:"flex-1 px-8"},te={class:"edit"},se=e("p",null,[e("small",null,"Playbook")],-1),oe={class:"font-bold text-xl"},ae=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),ne=g(" \xC4ndern "),le={class:"mt-16"},ie=e("h2",{class:"font-bold text-lg"},"Module",-1),de={class:"mt-4 border p-4 shadow-md"},re={open:""},ce={class:"text-lg"},ue=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),me=g(" Neues Modul "),pe=v({props:{id:null},setup(r){const m=r,p=Q(),_=V(),w=O(),f=H(),t=f.findById(m.id),j={to:`/mitra-frontend/${p.entryPoint}`,label:"Startseite"},a=y(t.title),c=y(),M=K(()=>[{label:a.value,disabled:!0}]),S=()=>{c.value.open()},b=()=>{t.title=a.value,c.value.close()},N=()=>{w.save(t)},T=async l=>{await _.push(`/mitra-frontend/playbook/${t.id}/module/${l.id}`)},B=async()=>{const l=new J("Unbenanntes Modul");t.addModules(l),f.save(t),await _.push(`/mitra-frontend/playbook/${t.id}/module/${l.id}`)};return(l,h)=>{const C=R("router-link"),P=D("focus");return d(),k("div",X,[e("nav",Z,[o(W,{title:a.value,navigatable:s(t),onSave:N,onNavigate:T},null,8,["title","navigatable"])]),e("main",ee,[e("header",te,[o(s(z),{home:j,model:s(M),class:"mb-4"},null,8,["model"]),se,o(s(Y),{ref_key:"editTitle",ref:c,closable:!1},{display:i(()=>[e("h1",oe,u(a.value),1)]),content:i(()=>[U(o(s(G),{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=n=>a.value=n),class:"mr-1",onKeyup:q(b,["enter"]),onBlur:b},null,8,["modelValue","onKeyup"]),[[P]])]),_:1},512),o(s($),{type:"button",onClick:S},{default:i(()=>[ae,ne]),_:1}),o(A,F(L(s(t).metadata)),null,16)]),e("section",le,[ie,e("ol",null,[(d(!0),k(E,null,I(s(t).modules,n=>(d(),x(C,{key:n.id,to:`/mitra-frontend/playbook/${s(t).id}/module/${n.id}`,class:"block"},{default:i(()=>[e("li",de,[e("details",re,[e("summary",ce,u(n.text),1),e("p",null,u(n.steps.length)+" Fragen",1)])])]),_:2},1032,["to"]))),128))]),o(s($),{type:"button",class:"mt-8",onClick:B},{default:i(()=>[ue,me]),_:1})])])])}}}),xe=v({props:{id:null},setup(r){return(m,p)=>(d(),x(pe,{id:r.id},null,8,["id"]))}});export{xe as default};
