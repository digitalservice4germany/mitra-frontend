var E=Object.defineProperty;var C=(e,t,s)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var l=(e,t,s)=>(C(e,typeof t!="symbol"?t+"":t,s),s),F=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var g=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)};var w=(e,t,s)=>(F(e,t,"access private method"),s);import{a as T}from"./index.c59d67de.js";var d,V=new Uint8Array(16);function J(){if(!d&&(d=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(V)}var I=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function N(e){return typeof e=="string"&&I.test(e)}var n=[];for(var h=0;h<256;++h)n.push((h+256).toString(16).substr(1));function L(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase();if(!N(s))throw TypeError("Stringified UUID is invalid");return s}function q(e,t,s){e=e||{};var o=e.random||(e.rng||J)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){s=s||0;for(var c=0;c<16;++c)t[s+c]=o[c];return t}return L(o)}const B=e=>e instanceof a;class a{constructor(){l(this,"id");this.id=q()}equals(t){return t==null?!1:this===t?!0:B(t)?this.id===t.id:!1}}class G{}class M extends G{constructor(t=""){super();this.answer=t}getAnswer(){return this.answer}setAnswer(t){this.answer=t}toString(){return this.answer}}class y extends a{constructor(t,s){super();this.text=t,this.answer=s}getAnswer(){return this.answer}setAnswer(t){this.answer.setAnswer(t)}static fromJson(t){return new r(t.text)}}const p=class extends y{constructor(t,s=new M){super(t,s)}getType(){return p.TYPE}clone(){return new p(this.text,this.answer)}};let r=p;l(r,"TYPE","TextAnswerStep");class i extends a{constructor(t,s=[]){super();this.text=t,this.steps=s}addSteps(...t){this.steps.push(...t)}clone(){return new i(this.text,this.steps.map(t=>t.clone()))}static fromJson(t){const s=t.steps.map(y.fromJson);return new i(t.text,s)}}class f extends a{constructor(t=[]){super();this.modules=t}addModules(...t){this.modules.push(...t)}static fromJson(t){const s=t.modules.map(i.fromJson);return new f(s)}}const O=new r("Schritt 1.1"),U=new r("Schritt 1.2"),$=new r("Schritt 1.3"),j=new r("Schritt 2.1"),D=new r("Schritt 2.2"),H=new r("Schritt 2.3"),Y=new r("Schritt 3.1"),W=new r("Schritt 3.2"),X=new r("Schritt 3.3"),_=new r("Schritt 3.4"),S=new i("Rubrum"),x=new i("Gegenstand und Bestandteile des Vertrags"),v=new i("Gegenstand der Leistungen");S.addSteps(O,U,$);x.addSteps(j,D,H);v.addSteps(Y,W,X,_);const P=new f;P.addModules(S,x,v);let R;const z={load(){return R||P},save(e){R=e}};var u,k;const m=class extends a{constructor(t,s){super();g(this,u);this.title=t,this.modules=s}static fromPlaybook(t){const s=t.modules.map(o=>o.clone());return new m("",s)}getSteps(){return this.modules.flatMap(t=>t.steps)}getNextStepFor(t){return this.getSteps()[w(this,u,k).call(this,t)+1]}getPreviousStepFor(t){return this.getSteps()[w(this,u,k).call(this,t)-1]}getModules(){return this.modules}getModuleFor(t){return this.modules.find(s=>s.steps.find(o=>o.equals(t)))}};let b=m;u=new WeakSet,k=function(t){return this.getSteps().findIndex(s=>s.equals(t))};function A(e){return e.title.toLowerCase().replace(/\s/g,"-")}async function K(e,t){const s=await e.createWritable();await s.write(t),await s.close()}const Q={load(){return new b("",[])},async save(e){if(window.showSaveFilePicker){const t=await window.showSaveFilePicker({suggestedName:A(e),startIn:"desktop",types:[{accept:{"application/json":[".json"]}}]});await K(t,JSON.stringify(e))}else await T(()=>import("./FileSaver.min.297e5979.js").then(function(t){return t.F}),[]).then(({default:t})=>{const s=new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"});t.saveAs(s,`${A(e)}.json`)})}},et=()=>z,st=()=>Q;export{b as C,f as P,r as T,st as a,P as c,et as m};
