import{f as v,a4 as D,p as y,$ as K,r as P,K as F,o as d,g as k,h as e,i as o,u as s,w as i,F as L,q as R,t as u,L as E,Y as I,c as x,j as g}from"./vendor.0ac36c96.js";import{a as U,b as q,_ as Y,s as z}from"./Metadata.057e5092.js";import{s as $}from"./button.esm.392df4ef.js";import{c as A,e as G,d as H}from"./provide.cb373c66.js";import{u as J}from"./session.eb1bb6e7.js";import{_ as O}from"./SideMenu.4f1ebd4e.js";import"./main.44d70227.js";const Q={class:"flex h-full"},W={class:"flex-none"},X={class:"flex-1 px-8"},Z={class:"edit"},ee=e("p",null,[e("small",null,"Playbook")],-1),te={class:"font-bold text-xl"},se=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),oe=g(" \xC4ndern "),ae={class:"mt-16"},ne=e("h2",{class:"font-bold text-lg"},"Module",-1),le={class:"mt-4 border p-4 shadow-md"},ie={open:""},de={class:"text-lg"},re=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),ce=g(" Neues Modul "),ue=v({props:{id:null},setup(r){const m=r,p=J(),_=D(),w=H(),f=A(),t=f.findById(m.id),j={to:`/mitra-frontend/${p.entryPoint}`,label:"Startseite"},a=y(t.title),c=y(),M=K(()=>[{label:a.value,disabled:!0}]),S=()=>{c.value.open()},b=()=>{t.title=a.value,c.value.close()},N=()=>{w.save(t)},T=async l=>{await _.push(`/mitra-frontend/playbook/${t.id}/module/${l.id}`)},B=async()=>{const l=new G("Unbenanntes Modul");t.addModules(l),f.save(t),await _.push(`/mitra-frontend/playbook/${t.id}/module/${l.id}`)};return(l,h)=>{const C=P("router-link"),V=F("focus");return d(),k("div",Q,[e("nav",W,[o(O,{title:a.value,navigatable:s(t),onSave:N,onNavigate:T},null,8,["title","navigatable"])]),e("main",X,[e("header",Z,[o(s(U),{home:j,model:s(M),class:"mb-4"},null,8,["model"]),ee,o(s(q),{ref_key:"editTitle",ref:c,closable:!1},{display:i(()=>[e("h1",te,u(a.value),1)]),content:i(()=>[E(o(s(z),{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=n=>a.value=n),class:"mr-1",onKeyup:I(b,["enter"]),onBlur:b},null,8,["modelValue","onKeyup"]),[[V]])]),_:1},512),o(s($),{type:"button",onClick:S},{default:i(()=>[se,oe]),_:1}),o(Y,{"created-at":new Date,"saved-at":new Date},null,8,["created-at","saved-at"])]),e("section",ae,[ne,e("ol",null,[(d(!0),k(L,null,R(s(t).modules,n=>(d(),x(C,{key:n.id,to:`/mitra-frontend/playbook/${s(t).id}/module/${n.id}`,class:"block"},{default:i(()=>[e("li",le,[e("details",ie,[e("summary",de,u(n.text),1),e("p",null,u(n.steps.length)+" Fragen",1)])])]),_:2},1032,["to"]))),128))]),o(s($),{type:"button",class:"mt-8",onClick:B},{default:i(()=>[re,ce]),_:1})])])])}}}),ye=v({props:{id:null},setup(r){return(m,p)=>(d(),x(ue,{id:r.id},null,8,["id"]))}});export{ye as default};
