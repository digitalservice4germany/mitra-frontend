var N=Object.defineProperty,z=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var A=(e,t,l)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,I=(e,t)=>{for(var l in t||(t={}))L.call(t,l)&&A(e,l,t[l]);if(C)for(var l of C(t))j.call(t,l)&&A(e,l,t[l]);return e},w=(e,t)=>z(e,D(t));import{X as q,r as y,o as s,c as i,F as m,q as K,w as v,i as c,t as g,l as p,M as S,L as P,a2 as E,N as T,f as F,z as V,$ as R,u as M}from"./vendor.0ac36c96.js";import{u as U}from"./session.eb1bb6e7.js";var B={name:"PanelMenuSub",emits:["item-toggle"],props:{model:{type:null,default:null},template:{type:Function,default:null},expandedKeys:{type:null,default:null},exact:{type:Boolean,default:!0}},data(){return{activeItem:null}},methods:{onItemClick(e,t,l){if(this.isActive(t)&&this.activeItem===null&&(this.activeItem=t),this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),this.activeItem&&this.activeItem===t?this.activeItem=null:this.activeItem=t,this.$emit("item-toggle",{item:t,expanded:this.activeItem!=null}),t.to&&l&&l(e)},getItemClass(e){return["p-menuitem",e.className]},linkClass(e,t){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},isActive(e){return this.expandedKeys?this.expandedKeys[e.key]:e===this.activeItem},getSubmenuIcon(e){const t=this.isActive(e);return["p-panelmenu-icon pi pi-fw",{"pi-angle-right":!t,"pi-angle-down":t}]},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label}}};const X={class:"p-submenu-list",role:"tree"},G={class:"p-menuitem-text"},J={class:"p-menuitem-text"},O={class:"p-toggleable-content"};function Q(e,t,l,o,d,a){const b=y("router-link"),h=y("PanelMenuSub",!0);return s(),i("ul",X,[(s(!0),i(m,null,K(l.model,(n,r)=>(s(),i(m,{key:a.label(n)+r.toString()},[a.visible(n)&&!n.separator?(s(),i("li",{key:0,role:"none",class:a.getItemClass(n),style:n.style},[l.template?(s(),i(S(l.template),{key:1,item:n},null,8,["item"])):(s(),i(m,{key:0},[n.to&&!a.disabled(n)?(s(),i(b,{key:0,to:n.to,custom:""},{default:v(({navigate:u,href:f,isActive:k,isExactActive:x})=>[c("a",{href:f,class:a.linkClass(n,{isRouterActive:k,isExactActive:x}),onClick:_=>a.onItemClick(_,n,u),role:"treeitem","aria-expanded":a.isActive(n)},[c("span",{class:["p-menuitem-icon",n.icon]},null,2),c("span",G,g(a.label(n)),1)],10,["href","onClick","aria-expanded"])]),_:2},1032,["to"])):(s(),i("a",{key:1,href:n.url,class:a.linkClass(n),target:n.target,onClick:u=>a.onItemClick(u,n),role:"treeitem","aria-expanded":a.isActive(n),tabindex:a.disabled(n)?null:"0"},[n.items?(s(),i("span",{key:0,class:a.getSubmenuIcon(n)},null,2)):p("",!0),c("span",{class:["p-menuitem-icon",n.icon]},null,2),c("span",J,g(a.label(n)),1)],10,["href","target","onClick","aria-expanded","tabindex"]))],64)),c(T,{name:"p-toggleable-content"},{default:v(()=>[P(c("div",O,[a.visible(n)&&n.items?(s(),i(h,{model:n.items,key:a.label(n)+"_sub_",template:l.template,expandedKeys:l.expandedKeys,onItemToggle:t[1]||(t[1]=u=>e.$emit("item-toggle",u)),exact:l.exact},null,8,["model","template","expandedKeys","exact"])):p("",!0)],512),[[E,a.isActive(n)]])]),_:2},1024)],6)):p("",!0),a.visible(n)&&n.separator?(s(),i("li",{class:["p-menu-separator",n.class],style:n.style,key:"separator"+r.toString()},null,6)):p("",!0)],64))),128))])}B.render=Q;var H={name:"PanelMenu",emits:["update:expandedKeys"],props:{model:{type:Array,default:null},expandedKeys:{type:null,default:null},exact:{type:Boolean,default:!0}},data(){return{activeItem:null}},methods:{onItemClick(e,t,l){if(this.isActive(t)&&this.activeItem===null&&(this.activeItem=t),this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),this.activeItem&&this.activeItem===t?this.activeItem=null:this.activeItem=t,this.updateExpandedKeys({item:t,expanded:this.activeItem!=null}),t.to&&l&&l(e)},updateExpandedKeys(e){if(this.expandedKeys){let t=e.item,l=I({},this.expandedKeys);e.expanded?l[t.key]=!0:delete l[t.key],this.$emit("update:expandedKeys",l)}},getPanelClass(e){return["p-panelmenu-panel",e.class]},getPanelToggleIcon(e){const t=this.isActive(e);return["p-panelmenu-icon pi",{"pi-chevron-right":!t," pi-chevron-down":t}]},getPanelIcon(e){return["p-menuitem-icon",e.icon]},getHeaderLinkClass(e,t){return["p-panelmenu-header-link",{"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},isActive(e){return this.expandedKeys?this.expandedKeys[e.key]:e===this.activeItem},getHeaderClass(e){return["p-component p-panelmenu-header",{"p-highlight":this.isActive(e),"p-disabled":this.disabled(e)}]},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label}},components:{PanelMenuSub:B},computed:{ariaId(){return q()}}};const W={class:"p-panelmenu p-component"},Y={class:"p-menuitem-text"},Z={class:"p-menuitem-text"},$={key:0,class:"p-panelmenu-content"};function ee(e,t,l,o,d,a){const b=y("router-link"),h=y("PanelMenuSub");return s(),i("div",W,[(s(!0),i(m,null,K(l.model,(n,r)=>(s(),i(m,{key:a.label(n)+"_"+r},[a.visible(n)?(s(),i("div",{key:0,class:a.getPanelClass(n),style:n.style},[c("div",{class:a.getHeaderClass(n),style:n.style},[e.$slots.item?(s(),i(S(e.$slots.item),{key:1,item:n},null,8,["item"])):(s(),i(m,{key:0},[n.to&&!a.disabled(n)?(s(),i(b,{key:0,to:n.to,custom:""},{default:v(({navigate:u,href:f,isActive:k,isExactActive:x})=>[c("a",{href:f,class:a.getHeaderLinkClass(n,{isActive:k,isExactActive:x}),onClick:_=>a.onItemClick(_,n,u),role:"treeitem"},[n.icon?(s(),i("span",{key:0,class:a.getPanelIcon(n)},null,2)):p("",!0),c("span",Y,g(a.label(n)),1)],10,["href","onClick"])]),_:2},1032,["to"])):(s(),i("a",{key:1,href:n.url,class:a.getHeaderLinkClass(n),onClick:u=>a.onItemClick(u,n),tabindex:a.disabled(n)?null:"0","aria-expanded":a.isActive(n),id:a.ariaId+"_header_"+r,"aria-controls":a.ariaId+"_content_"+r},[n.items?(s(),i("span",{key:0,class:a.getPanelToggleIcon(n)},null,2)):p("",!0),n.icon?(s(),i("span",{key:1,class:a.getPanelIcon(n)},null,2)):p("",!0),c("span",Z,g(a.label(n)),1)],10,["href","onClick","tabindex","aria-expanded","id","aria-controls"]))],64))],6),c(T,{name:"p-toggleable-content"},{default:v(()=>[P(c("div",{class:"p-toggleable-content",role:"region",id:a.ariaId+"_content_"+r,"aria-labelledby":a.ariaId+"_header_"+r},[n.items?(s(),i("div",$,[c(h,{model:n.items,class:"p-panelmenu-root-submenu",template:e.$slots.item,expandedKeys:l.expandedKeys,onItemToggle:a.updateExpandedKeys,exact:l.exact},null,8,["model","template","expandedKeys","onItemToggle","exact"])])):p("",!0)],8,["id","aria-labelledby"]),[[E,a.isActive(n)]])]),_:2},1024)],6)):p("",!0)],64))),128))])}function ne(e,t){t===void 0&&(t={});var l=t.insertAt;if(!(!e||typeof document=="undefined")){var o=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",l==="top"&&o.firstChild?o.insertBefore(d,o.firstChild):o.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e))}}var te=`
.p-panelmenu .p-panelmenu-header-link {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    cursor: pointer;
    position: relative;
    text-decoration: none;
}
.p-panelmenu .p-panelmenu-header-link:focus {
    z-index: 1;
}
.p-panelmenu .p-submenu-list {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-panelmenu .p-menuitem-link {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    cursor: pointer;
    text-decoration: none;
}
.p-panelmenu .p-menuitem-text {
    line-height: 1;
}
`;ne(te);H.render=ee;const ie=F({props:{title:null,navigatable:null},emits:["save","navigate"],setup(e,{emit:t}){const l=e,o=U(),d=()=>{const[,n]=location.pathname.match(/\/(playbook|contract)\//)||[];return n},a=(n,r)=>r.path.find(u=>u.equals(o.cache.get(l.navigatable.id)))?w(I({},n),{style:"font-weight:bold"}):n,b=V(l.navigatable.modules),h=R(()=>[{label:"Startseite",icon:"pi pi-angle-left",to:`/mitra-frontend/${o.entryPoint}`},{key:"1",label:l.title,icon:"pi pi-angle-down",to:`/mitra-frontend/${d()}/${l.navigatable.id}`,items:b.value.map(n=>a({label:n.text,command:()=>t("navigate",n)},n))},{label:"Speichern",icon:"pi pi-download",command:()=>t("save")}]);return(n,r)=>(s(),i(M(H),{model:M(h),"expanded-keys":{"1":!0},class:"w-64"},null,8,["model"]))}});export{ie as _};
