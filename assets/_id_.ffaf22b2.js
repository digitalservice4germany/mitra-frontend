var F=Object.defineProperty,L=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var M=(e,l,a)=>l in e?F(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,S=(e,l)=>{for(var a in l||(l={}))V.call(l,a)&&M(e,a,l[a]);if(P)for(var a of P(l))q.call(l,a)&&M(e,a,l[a]);return e},E=(e,l)=>L(e,R(l));import{c as U,d as G}from"./provide.68095291.js";import{u as T}from"./session.6c3f5ec6.js";import{U as J,r as f,o as s,c as i,F as h,v as A,w as k,i as r,t as v,l as m,M as B,p as N,a2 as H,T as j,f as K,s as O,u as g,g as w,h as y}from"./vendor.4f77a301.js";import"./index.7f28cee7.js";var D={name:"PanelMenuSub",emits:["item-toggle"],props:{model:{type:null,default:null},template:{type:Function,default:null},expandedKeys:{type:null,default:null},exact:{type:Boolean,default:!0}},data(){return{activeItem:null}},methods:{onItemClick(e,l,a){if(this.isActive(l)&&this.activeItem===null&&(this.activeItem=l),this.disabled(l)){e.preventDefault();return}l.command&&l.command({originalEvent:e,item:l}),this.activeItem&&this.activeItem===l?this.activeItem=null:this.activeItem=l,this.$emit("item-toggle",{item:l,expanded:this.activeItem!=null}),l.to&&a&&a(e)},getItemClass(e){return["p-menuitem",e.className]},linkClass(e,l){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":l&&l.isActive,"router-link-active-exact":this.exact&&l&&l.isExactActive}]},isActive(e){return this.expandedKeys?this.expandedKeys[e.key]:e===this.activeItem},getSubmenuIcon(e){const l=this.isActive(e);return["p-panelmenu-icon pi pi-fw",{"pi-angle-right":!l,"pi-angle-down":l}]},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label}}};const Q={class:"p-submenu-list",role:"tree"},W={class:"p-menuitem-text"},X={class:"p-menuitem-text"},Y={class:"p-toggleable-content"};function Z(e,l,a,o,u,t){const b=f("router-link"),p=f("PanelMenuSub",!0);return s(),i("ul",Q,[(s(!0),i(h,null,A(a.model,(n,c)=>(s(),i(h,{key:t.label(n)+c.toString()},[t.visible(n)&&!n.separator?(s(),i("li",{key:0,role:"none",class:t.getItemClass(n),style:n.style},[a.template?(s(),i(B(a.template),{key:1,item:n},null,8,["item"])):(s(),i(h,{key:0},[n.to&&!t.disabled(n)?(s(),i(b,{key:0,to:n.to,custom:""},{default:k(({navigate:d,href:x,isActive:_,isExactActive:I})=>[r("a",{href:x,class:t.linkClass(n,{isRouterActive:_,isExactActive:I}),onClick:C=>t.onItemClick(C,n,d),role:"treeitem","aria-expanded":t.isActive(n)},[r("span",{class:["p-menuitem-icon",n.icon]},null,2),r("span",W,v(t.label(n)),1)],10,["href","onClick","aria-expanded"])]),_:2},1032,["to"])):(s(),i("a",{key:1,href:n.url,class:t.linkClass(n),target:n.target,onClick:d=>t.onItemClick(d,n),role:"treeitem","aria-expanded":t.isActive(n),tabindex:t.disabled(n)?null:"0"},[n.items?(s(),i("span",{key:0,class:t.getSubmenuIcon(n)},null,2)):m("",!0),r("span",{class:["p-menuitem-icon",n.icon]},null,2),r("span",X,v(t.label(n)),1)],10,["href","target","onClick","aria-expanded","tabindex"]))],64)),r(j,{name:"p-toggleable-content"},{default:k(()=>[N(r("div",Y,[t.visible(n)&&n.items?(s(),i(p,{model:n.items,key:t.label(n)+"_sub_",template:a.template,expandedKeys:a.expandedKeys,onItemToggle:l[1]||(l[1]=d=>e.$emit("item-toggle",d)),exact:a.exact},null,8,["model","template","expandedKeys","exact"])):m("",!0)],512),[[H,t.isActive(n)]])]),_:2},1024)],6)):m("",!0),t.visible(n)&&n.separator?(s(),i("li",{class:["p-menu-separator",n.class],style:n.style,key:"separator"+c.toString()},null,6)):m("",!0)],64))),128))])}D.render=Z;var z={name:"PanelMenu",emits:["update:expandedKeys"],props:{model:{type:Array,default:null},expandedKeys:{type:null,default:null},exact:{type:Boolean,default:!0}},data(){return{activeItem:null}},methods:{onItemClick(e,l,a){if(this.isActive(l)&&this.activeItem===null&&(this.activeItem=l),this.disabled(l)){e.preventDefault();return}l.command&&l.command({originalEvent:e,item:l}),this.activeItem&&this.activeItem===l?this.activeItem=null:this.activeItem=l,this.updateExpandedKeys({item:l,expanded:this.activeItem!=null}),l.to&&a&&a(e)},updateExpandedKeys(e){if(this.expandedKeys){let l=e.item,a=S({},this.expandedKeys);e.expanded?a[l.key]=!0:delete a[l.key],this.$emit("update:expandedKeys",a)}},getPanelClass(e){return["p-panelmenu-panel",e.class]},getPanelToggleIcon(e){const l=this.isActive(e);return["p-panelmenu-icon pi",{"pi-chevron-right":!l," pi-chevron-down":l}]},getPanelIcon(e){return["p-menuitem-icon",e.icon]},getHeaderLinkClass(e,l){return["p-panelmenu-header-link",{"router-link-active":l&&l.isActive,"router-link-active-exact":this.exact&&l&&l.isExactActive}]},isActive(e){return this.expandedKeys?this.expandedKeys[e.key]:e===this.activeItem},getHeaderClass(e){return["p-component p-panelmenu-header",{"p-highlight":this.isActive(e),"p-disabled":this.disabled(e)}]},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label}},components:{PanelMenuSub:D},computed:{ariaId(){return J()}}};const $={class:"p-panelmenu p-component"},ee={class:"p-menuitem-text"},ne={class:"p-menuitem-text"},le={key:0,class:"p-panelmenu-content"};function te(e,l,a,o,u,t){const b=f("router-link"),p=f("PanelMenuSub");return s(),i("div",$,[(s(!0),i(h,null,A(a.model,(n,c)=>(s(),i(h,{key:t.label(n)+"_"+c},[t.visible(n)?(s(),i("div",{key:0,class:t.getPanelClass(n),style:n.style},[r("div",{class:t.getHeaderClass(n),style:n.style},[e.$slots.item?(s(),i(B(e.$slots.item),{key:1,item:n},null,8,["item"])):(s(),i(h,{key:0},[n.to&&!t.disabled(n)?(s(),i(b,{key:0,to:n.to,custom:""},{default:k(({navigate:d,href:x,isActive:_,isExactActive:I})=>[r("a",{href:x,class:t.getHeaderLinkClass(n,{isActive:_,isExactActive:I}),onClick:C=>t.onItemClick(C,n,d),role:"treeitem"},[n.icon?(s(),i("span",{key:0,class:t.getPanelIcon(n)},null,2)):m("",!0),r("span",ee,v(t.label(n)),1)],10,["href","onClick"])]),_:2},1032,["to"])):(s(),i("a",{key:1,href:n.url,class:t.getHeaderLinkClass(n),onClick:d=>t.onItemClick(d,n),tabindex:t.disabled(n)?null:"0","aria-expanded":t.isActive(n),id:t.ariaId+"_header_"+c,"aria-controls":t.ariaId+"_content_"+c},[n.items?(s(),i("span",{key:0,class:t.getPanelToggleIcon(n)},null,2)):m("",!0),n.icon?(s(),i("span",{key:1,class:t.getPanelIcon(n)},null,2)):m("",!0),r("span",ne,v(t.label(n)),1)],10,["href","onClick","tabindex","aria-expanded","id","aria-controls"]))],64))],6),r(j,{name:"p-toggleable-content"},{default:k(()=>[N(r("div",{class:"p-toggleable-content",role:"region",id:t.ariaId+"_content_"+c,"aria-labelledby":t.ariaId+"_header_"+c},[n.items?(s(),i("div",le,[r(p,{model:n.items,class:"p-panelmenu-root-submenu",template:e.$slots.item,expandedKeys:a.expandedKeys,onItemToggle:t.updateExpandedKeys,exact:a.exact},null,8,["model","template","expandedKeys","onItemToggle","exact"])])):m("",!0)],8,["id","aria-labelledby"]),[[H,t.isActive(n)]])]),_:2},1024)],6)):m("",!0)],64))),128))])}function ae(e,l){l===void 0&&(l={});var a=l.insertAt;if(!(!e||typeof document=="undefined")){var o=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",a==="top"&&o.firstChild?o.insertBefore(u,o.firstChild):o.appendChild(u),u.styleSheet?u.styleSheet.cssText=e:u.appendChild(document.createTextNode(e))}}var se=`
.p-panelmenu .p-panelmenu-header-link {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    cursor: pointer;
    position: relative;
    text-decoration: none;
}
.p-panelmenu .p-panelmenu-header-link:focus {
    z-index: 1;
}
.p-panelmenu .p-submenu-list {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-panelmenu .p-menuitem-link {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    cursor: pointer;
    text-decoration: none;
}
.p-panelmenu .p-menuitem-text {
    line-height: 1;
}
`;ae(se);z.render=te;const ie=K({props:{playbook:null},emits:["save","navigate"],setup(e,{emit:l}){const a=e,o=T(),u=(p,n)=>n.path.find(c=>c.equals(o.cache.get(a.playbook.id)))?E(S({},p),{class:"font-bold"}):p,t=p=>[{label:"Startseite",icon:"pi pi-angle-left",to:"/mitra-frontend/"},{key:"1",label:a.playbook.title,to:`/mitra-frontend/playbook/${a.playbook.id}`,items:p.map((n,c)=>u({label:`${c+1}. ${n.text}`,command:()=>l("navigate",n.path[0])},n))},{label:"Speichern",icon:"pi pi-fw pi-download",command:()=>l("save")}];o.$subscribe(()=>{b.value=t(a.playbook.modules)});const b=O(t(a.playbook.modules));return(p,n)=>(s(),i(g(z),{model:b.value,"expanded-keys":{"1":!0},class:"w-70"},null,8,["model"]))}});const re={class:"flex h-full"},ce={class:"flex-none"},de={class:"flex-1 p-8"},oe=y("h2",null,"Module",-1),ue={open:""},pe=K({props:{id:null},setup(e){const l=e,a=T(),o=G(),t=U().findById(l.id),b=()=>{o.save(t)},p=n=>{a.rememberCurrentStep(t,n)};return(n,c)=>(s(),w(h,null,[y("header",null,[y("h1",null,v(g(t).title),1)]),y("div",re,[y("nav",ce,[r(ie,{playbook:g(t),onSave:b,onNavigate:p},null,8,["playbook"])]),y("main",de,[y("section",null,[oe,y("ol",null,[(s(!0),w(h,null,A(g(t).modules,d=>(s(),w("li",{key:d.id},[y("details",ue,[y("summary",null,v(d.text),1),y("p",null,v(d.steps.length)+" Fragen",1)])]))),128))])])])])],64))}}),fe=K({props:{id:null},setup(e){return(l,a)=>(s(),i(pe,{id:e.id},null,8,["id"]))}});export{fe as default};
