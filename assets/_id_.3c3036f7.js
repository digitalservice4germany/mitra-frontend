import{f as v,a4 as K,p as y,$ as P,r as D,K as F,o as d,g as k,h as e,i as n,u as s,w as i,F as L,q as R,t as u,L as E,Y as I,c as x,j as g}from"./vendor.0ac36c96.js";import{a as U,b as q,s as Y}from"./inputtext.esm.2045e3cf.js";import{s as $}from"./button.esm.392df4ef.js";import{c as z,e as A,d as G}from"./provide.a8a5fd39.js";import{u as H}from"./session.eb1bb6e7.js";import{_ as J}from"./SideMenu.4f1ebd4e.js";import"./main.80531307.js";const O={class:"flex h-full"},Q={class:"flex-none"},W={class:"flex-1 px-8"},X={class:"edit"},Z=e("p",null,[e("small",null,"Playbook")],-1),ee={class:"font-bold text-xl"},te=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),se=g(" \xC4ndern "),oe={class:"mt-16"},ae=e("h2",{class:"font-bold text-lg"},"Module",-1),ne={class:"mt-4 border p-4 shadow-md"},le={open:""},ie={class:"text-lg"},de=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),re=g(" Neues Modul "),ce=v({props:{id:null},setup(r){const p=r,m=H(),_=K(),w=G(),f=z(),t=f.findById(p.id),j={to:`/mitra-frontend/${m.entryPoint}`,label:"Startseite"},o=y(t.title),c=y(),S=P(()=>[{label:o.value,disabled:!0}]),M=()=>{c.value.open()},b=()=>{t.title=o.value,c.value.close()},N=()=>{w.save(t)},T=async l=>{await _.push(`/mitra-frontend/playbook/${t.id}/module/${l.id}`)},B=async()=>{const l=new A("Unbenanntes Modul");t.addModules(l),f.save(t),await _.push(`/mitra-frontend/playbook/${t.id}/module/${l.id}`)};return(l,h)=>{const C=D("router-link"),V=F("focus");return d(),k("div",O,[e("nav",Q,[n(J,{title:o.value,navigatable:s(t),onSave:N,onNavigate:T},null,8,["title","navigatable"])]),e("main",W,[e("header",X,[n(s(U),{home:j,model:s(S),class:"mb-4"},null,8,["model"]),Z,n(s(q),{ref_key:"editTitle",ref:c,closable:!1},{display:i(()=>[e("h1",ee,u(o.value),1)]),content:i(()=>[E(n(s(Y),{modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=a=>o.value=a),class:"mr-1",onKeyup:I(b,["enter"]),onBlur:b},null,8,["modelValue","onKeyup"]),[[V]])]),_:1},512),n(s($),{type:"button",onClick:M},{default:i(()=>[te,se]),_:1})]),e("section",oe,[ae,e("ol",null,[(d(!0),k(L,null,R(s(t).modules,a=>(d(),x(C,{key:a.id,to:`/mitra-frontend/playbook/${s(t).id}/module/${a.id}`,class:"block"},{default:i(()=>[e("li",ne,[e("details",le,[e("summary",ie,u(a.text),1),e("p",null,u(a.steps.length)+" Fragen",1)])])]),_:2},1032,["to"]))),128))]),n(s($),{type:"button",class:"mt-8",onClick:B},{default:i(()=>[de,re]),_:1})])])])}}}),ve=v({props:{id:null},setup(r){return(p,m)=>(d(),x(ce,{id:r.id},null,8,["id"]))}});export{ve as default};
