import{f as k,a6 as M,p as d,K as S,o as r,g as v,h as e,i as a,u as o,w as c,F as V,q as C,t as f,L as N,Y as F,j as x,c as K}from"./vendor.301f9710.js";import{s as g}from"./button.esm.beac9337.js";import{_ as D,b as E,s as R}from"./SideMenu.803f66ad.js";import{c as L,d as P}from"./provide.81e51c6c.js";import{_ as q}from"./Breadcrumb.8ac3bfae.js";import"./session.51340ef0.js";import"./main.96f48a77.js";const U={class:"flex h-full"},Y={class:"flex-none"},z={class:"flex-1 px-8"},A={class:"edit"},G=e("p",null,[e("small",null,"Modul")],-1),H={class:"font-bold text-xl"},J=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),O=x(" \xC4ndern "),Q=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," delete ",-1),W=x(" Modul l\xF6schen "),X={class:"mt-16"},Z=e("h2",{class:"font-bold text-lg"},"Fragen",-1),ee={open:""},te={class:"text-lg"},oe=k({props:{playbookId:null,moduleId:null},setup(s){const u=s,m=M(),p=L(),I=P();let t=d(p.findById(u.playbookId)),i=d(t.value.findModuleById(u.moduleId));const l=d(i.value.title),_=d(),j=()=>{_.value.open()},y=()=>{i.value.title=l.value,_.value.close(),p.save(t.value)},B=()=>{I.save(t.value)},T=async h=>{await m.push(`/mitra-frontend/playbook/${t.value.id}/module/${h.id}/`)},$=async()=>{t.value.removeModule(i.value),p.save(t.value),await m.push(`/mitra-frontend/playbook/${t.value.id}/`)};return(h,b)=>{const w=S("focus");return r(),v("div",U,[e("nav",Y,[a(D,{title:o(t).title,navigatable:o(t),onSave:B,onNavigate:T},null,8,["title","navigatable"])]),e("main",z,[e("header",A,[a(q,{"current-title":l.value,"parent-items":[o(t)]},null,8,["current-title","parent-items"]),G,a(o(E),{ref_key:"editTitle",ref:_,closable:!1},{display:c(()=>[e("h1",H,f(l.value),1)]),content:c(()=>[N(a(o(R),{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=n=>l.value=n),class:"mr-1","aria-label":"Titel \xE4ndern",onKeyup:F(y,["enter"]),onBlur:y},null,8,["modelValue","onKeyup"]),[[w]])]),_:1},512),a(o(g),{type:"button",class:"mx-2",onClick:j},{default:c(()=>[J,O]),_:1}),a(o(g),{type:"button",onClick:$},{default:c(()=>[Q,W]),_:1})]),e("section",X,[Z,e("ol",null,[(r(!0),v(V,null,C(o(i).steps,n=>(r(),v("li",{key:n.id,class:"mt-4 border p-4 shadow-md"},[e("details",ee,[e("summary",te,f(n.text),1),e("p",null,"Typ: "+f(n.type),1)])]))),128))])])])])}}}),ce=k({props:{playbookId:null,moduleId:null},setup(s){return(u,m)=>(r(),K(oe,{key:s.moduleId,"playbook-id":s.playbookId,"module-id":s.moduleId},null,8,["playbook-id","module-id"]))}});export{ce as default};
