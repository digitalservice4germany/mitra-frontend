import{f as b,a6 as C,p as v,r as S,K as V,o as d,g as y,h as e,i as a,u as s,w as i,a0 as P,a1 as K,F as R,q as D,t as _,L as E,Y as F,c as k,j as x}from"./vendor.0c93a05d.js";import{s as g}from"./button.esm.163025b2.js";import{_ as L,b as q,s as z}from"./SideMenu.6b8f9b19.js";import{c as I,e as U,d as Y}from"./provide.9e039031.js";import{_ as A}from"./Breadcrumb.02414988.js";import{_ as G}from"./Metadata.bc68f581.js";import"./session.03f25a3d.js";import"./main.9a81b0ed.js";const H={class:"flex h-full"},J={class:"flex-none"},O={class:"flex-1 px-8"},Q={class:"edit"},W=e("p",null,[e("small",null,"Playbook")],-1),X={class:"font-bold text-xl"},Z=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),ee=x(" \xC4ndern "),te={class:"mt-16"},se=e("h2",{class:"font-bold text-lg"},"Module",-1),ae={class:"mt-4 border p-4 shadow-md"},oe={open:""},le={class:"text-lg"},ne=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),ie=x(" Neues Modul "),re=b({props:{id:null},setup(r){const m=r,c=C(),$=Y(),u=I(),t=u.findById(m.id),o=v(t.title),p=v(),j=()=>{p.value.open()},f=()=>{t.title=o.value,p.value.close(),u.save(t)},w=()=>{$.save(t)},B=async n=>{await c.push(`/mitra-frontend/playbook/${t.id}/module/${n.id}`)},M=async()=>{const n=new U;t.addModules(n),u.save(t),await c.push(`/mitra-frontend/playbook/${t.id}/module/${n.id}`)};return(n,h)=>{const N=S("router-link"),T=V("focus");return d(),y("div",H,[e("nav",J,[a(L,{title:o.value,navigatable:s(t),onSave:w,onNavigate:B},null,8,["title","navigatable"])]),e("main",O,[e("header",Q,[a(A,{"current-title":o.value,"parent-items":[]},null,8,["current-title"]),W,a(s(q),{ref_key:"editTitle",ref:p,closable:!1},{display:i(()=>[e("h1",X,_(o.value),1)]),content:i(()=>[E(a(s(z),{modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=l=>o.value=l),class:"mr-1","aria-label":"Titel \xE4ndern",onKeyup:F(f,["enter"]),onBlur:f},null,8,["modelValue","onKeyup"]),[[T]])]),_:1},512),a(s(g),{type:"button",onClick:j},{default:i(()=>[Z,ee]),_:1}),a(G,P(K(s(t).metadata)),null,16)]),e("section",te,[se,e("ol",null,[(d(!0),y(R,null,D(s(t).modules,l=>(d(),k(N,{key:l.id,to:`/mitra-frontend/playbook/${s(t).id}/module/${l.id}`,class:"block"},{default:i(()=>[e("li",ae,[e("details",oe,[e("summary",le,_(l.title),1),e("p",null,_(l.steps.length)+" Fragen",1)])])]),_:2},1032,["to"]))),128))]),a(s(g),{type:"button",class:"mt-8",onClick:M},{default:i(()=>[ne,ie]),_:1})])])])}}}),be=b({props:{id:null},setup(r){return(m,c)=>(d(),k(re,{id:r.id,key:r.id},null,8,["id"]))}});export{be as default};
