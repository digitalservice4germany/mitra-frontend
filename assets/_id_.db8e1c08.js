import{f as h,a4 as K,p as v,$ as P,r as D,K as F,o as d,g as y,h as e,i as n,u as s,w as i,F as L,q as R,t as p,L as E,Y as I,c as k,j as x}from"./vendor.0ac36c96.js";import{_ as U,a as q,b as Y,s as z}from"./SideMenu.8a3d84ee.js";import{s as g}from"./button.esm.392df4ef.js";import{c as A,e as G,d as H}from"./provide.60bac09c.js";import{u as J}from"./session.eb1bb6e7.js";import"./main.b7524b28.js";const O={class:"flex h-full"},Q={class:"flex-none"},W={class:"flex-1 px-8"},X={class:"edit"},Z=e("p",null,[e("small",null,"Playbook")],-1),ee={class:"font-bold text-xl"},te=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),se=x(" \xC4ndern "),oe={class:"mt-16"},ae=e("h2",{class:"font-bold text-lg"},"Module",-1),ne={class:"mt-4 border p-4 shadow-md"},le={open:""},ie={class:"text-lg"},de=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),re=x(" Neues Modul "),ce=h({props:{id:null},setup(r){const m=r,c=J(),$=K(),S=H(),_=A(),t=_.findById(m.id),w={to:`/mitra-frontend/${c.entryPoint}`,label:"Startseite"},o=v(t.title),u=v(),j=P(()=>[{label:o.value,disabled:!0}]),C=()=>{u.value.open()},b=()=>{t.title=o.value,u.value.close()},M=()=>{S.save(t)},N=l=>{c.rememberCurrentStep(t,l)},T=async()=>{const l=new G("Unbenanntes Modul");t.addModules(l),_.save(t),await $.push(`/mitra-frontend/playbook/${t.id}/module/${l.id}`)};return(l,f)=>{const B=D("router-link"),V=F("focus");return d(),y("div",O,[e("nav",Q,[n(U,{title:o.value,navigatable:s(t),onSave:M,onNavigate:N},null,8,["title","navigatable"])]),e("main",W,[e("header",X,[n(s(q),{home:w,model:s(j),class:"mb-4"},null,8,["model"]),Z,n(s(Y),{ref_key:"editTitle",ref:u,closable:!1},{display:i(()=>[e("h1",ee,p(o.value),1)]),content:i(()=>[E(n(s(z),{modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=a=>o.value=a),class:"mr-1",onKeyup:I(b,["enter"]),onBlur:b},null,8,["modelValue","onKeyup"]),[[V]])]),_:1},512),n(s(g),{type:"button",onClick:C},{default:i(()=>[te,se]),_:1})]),e("section",oe,[ae,e("ol",null,[(d(!0),y(L,null,R(s(t).modules,a=>(d(),k(B,{key:a.id,to:`/mitra-frontend/playbook/${s(t).id}/module/${a.id}`,class:"block"},{default:i(()=>[e("li",ne,[e("details",le,[e("summary",ie,p(a.text),1),e("p",null,p(a.steps.length)+" Fragen",1)])])]),_:2},1032,["to"]))),128))]),n(s(g),{type:"button",class:"mt-8",onClick:T},{default:i(()=>[de,re]),_:1})])])])}}}),he=h({props:{id:null},setup(r){return(m,c)=>(d(),k(ce,{id:r.id},null,8,["id"]))}});export{he as default};
