var U=Object.defineProperty,q=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var T=(e,t,a)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,S=(e,t)=>{for(var a in t||(t={}))G.call(t,a)&&T(e,a,t[a]);if(P)for(var a of P(t))J.call(t,a)&&T(e,a,t[a]);return e},E=(e,t)=>q(e,X(t));import{r as g,o as s,c as i,X as M,k as N,l as b,U as O,F as f,v as w,w as _,i as c,t as v,M as j,p as H,a2 as V,T as z,f as K,s as A,u as I,g as B,h as m,a3 as Q,a4 as W}from"./vendor.1dfe8916.js";import{s as Y}from"./button.esm.4d26aeea.js";import{u as D,s as Z}from"./session.2e900293.js";import{c as $,d as ee}from"./provide.d9bb8763.js";import{_ as te}from"./index.10373e91.js";var F={name:"Inplace",emits:["open","close","update:active"],props:{closable:{type:Boolean,default:!1},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},watch:{active(e){this.d_active=e}},data(){return{d_active:this.active}},methods:{open(e){this.disabled||(this.$emit("open",e),this.d_active=!0,this.$emit("update:active",!0))},close(e){this.$emit("close",e),this.d_active=!1,this.$emit("update:active",!1)}},computed:{containerClass(){return["p-inplace p-component",{"p-inplace-closable":this.closable}]},displayClass(){return["p-inplace-display",{"p-disabled":this.disabled}]}},components:{IPButton:Y}};const ne={key:1,class:"p-inplace-content"};function le(e,t,a,o,d,l){const p=g("IPButton");return s(),i("div",{class:l.containerClass},[d.d_active?(s(),i("div",ne,[N(e.$slots,"content"),a.closable?(s(),i(p,{key:0,icon:"pi pi-times",onClick:l.close},null,8,["onClick"])):b("",!0)])):(s(),i("div",{key:0,class:l.displayClass,tabindex:e.$attrs.tabindex||"0",onClick:t[1]||(t[1]=(...r)=>l.open&&l.open(...r)),onKeydown:t[2]||(t[2]=M((...r)=>l.open&&l.open(...r),["enter"]))},[N(e.$slots,"display")],42,["tabindex"]))],2)}function ae(e,t){t===void 0&&(t={});var a=t.insertAt;if(!(!e||typeof document=="undefined")){var o=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",a==="top"&&o.firstChild?o.insertBefore(d,o.firstChild):o.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e))}}var se=`
.p-inplace .p-inplace-display {
    display: inline;
    cursor: pointer;
}
.p-inplace .p-inplace-content {
    display: inline;
}
.p-fluid .p-inplace.p-inplace-closable .p-inplace-content {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
}
.p-fluid .p-inplace.p-inplace-closable .p-inplace-content > .p-inputtext {
    -webkit-box-flex: 1;
        -ms-flex: 1 1 auto;
            flex: 1 1 auto;
    width: 1%;
}
`;ae(se);F.render=le;var L={name:"PanelMenuSub",emits:["item-toggle"],props:{model:{type:null,default:null},template:{type:Function,default:null},expandedKeys:{type:null,default:null},exact:{type:Boolean,default:!0}},data(){return{activeItem:null}},methods:{onItemClick(e,t,a){if(this.isActive(t)&&this.activeItem===null&&(this.activeItem=t),this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),this.activeItem&&this.activeItem===t?this.activeItem=null:this.activeItem=t,this.$emit("item-toggle",{item:t,expanded:this.activeItem!=null}),t.to&&a&&a(e)},getItemClass(e){return["p-menuitem",e.className]},linkClass(e,t){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},isActive(e){return this.expandedKeys?this.expandedKeys[e.key]:e===this.activeItem},getSubmenuIcon(e){const t=this.isActive(e);return["p-panelmenu-icon pi pi-fw",{"pi-angle-right":!t,"pi-angle-down":t}]},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label}}};const ie={class:"p-submenu-list",role:"tree"},de={class:"p-menuitem-text"},oe={class:"p-menuitem-text"},ce={class:"p-toggleable-content"};function re(e,t,a,o,d,l){const p=g("router-link"),r=g("PanelMenuSub",!0);return s(),i("ul",ie,[(s(!0),i(f,null,w(a.model,(n,u)=>(s(),i(f,{key:l.label(n)+u.toString()},[l.visible(n)&&!n.separator?(s(),i("li",{key:0,role:"none",class:l.getItemClass(n),style:n.style},[a.template?(s(),i(j(a.template),{key:1,item:n},null,8,["item"])):(s(),i(f,{key:0},[n.to&&!l.disabled(n)?(s(),i(p,{key:0,to:n.to,custom:""},{default:_(({navigate:y,href:k,isActive:x,isExactActive:h})=>[c("a",{href:k,class:l.linkClass(n,{isRouterActive:x,isExactActive:h}),onClick:C=>l.onItemClick(C,n,y),role:"treeitem","aria-expanded":l.isActive(n)},[c("span",{class:["p-menuitem-icon",n.icon]},null,2),c("span",de,v(l.label(n)),1)],10,["href","onClick","aria-expanded"])]),_:2},1032,["to"])):(s(),i("a",{key:1,href:n.url,class:l.linkClass(n),target:n.target,onClick:y=>l.onItemClick(y,n),role:"treeitem","aria-expanded":l.isActive(n),tabindex:l.disabled(n)?null:"0"},[n.items?(s(),i("span",{key:0,class:l.getSubmenuIcon(n)},null,2)):b("",!0),c("span",{class:["p-menuitem-icon",n.icon]},null,2),c("span",oe,v(l.label(n)),1)],10,["href","target","onClick","aria-expanded","tabindex"]))],64)),c(z,{name:"p-toggleable-content"},{default:_(()=>[H(c("div",ce,[l.visible(n)&&n.items?(s(),i(r,{model:n.items,key:l.label(n)+"_sub_",template:a.template,expandedKeys:a.expandedKeys,onItemToggle:t[1]||(t[1]=y=>e.$emit("item-toggle",y)),exact:a.exact},null,8,["model","template","expandedKeys","exact"])):b("",!0)],512),[[V,l.isActive(n)]])]),_:2},1024)],6)):b("",!0),l.visible(n)&&n.separator?(s(),i("li",{class:["p-menu-separator",n.class],style:n.style,key:"separator"+u.toString()},null,6)):b("",!0)],64))),128))])}L.render=re;var R={name:"PanelMenu",emits:["update:expandedKeys"],props:{model:{type:Array,default:null},expandedKeys:{type:null,default:null},exact:{type:Boolean,default:!0}},data(){return{activeItem:null}},methods:{onItemClick(e,t,a){if(this.isActive(t)&&this.activeItem===null&&(this.activeItem=t),this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),this.activeItem&&this.activeItem===t?this.activeItem=null:this.activeItem=t,this.updateExpandedKeys({item:t,expanded:this.activeItem!=null}),t.to&&a&&a(e)},updateExpandedKeys(e){if(this.expandedKeys){let t=e.item,a=S({},this.expandedKeys);e.expanded?a[t.key]=!0:delete a[t.key],this.$emit("update:expandedKeys",a)}},getPanelClass(e){return["p-panelmenu-panel",e.class]},getPanelToggleIcon(e){const t=this.isActive(e);return["p-panelmenu-icon pi",{"pi-chevron-right":!t," pi-chevron-down":t}]},getPanelIcon(e){return["p-menuitem-icon",e.icon]},getHeaderLinkClass(e,t){return["p-panelmenu-header-link",{"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},isActive(e){return this.expandedKeys?this.expandedKeys[e.key]:e===this.activeItem},getHeaderClass(e){return["p-component p-panelmenu-header",{"p-highlight":this.isActive(e),"p-disabled":this.disabled(e)}]},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label}},components:{PanelMenuSub:L},computed:{ariaId(){return O()}}};const ue={class:"p-panelmenu p-component"},pe={class:"p-menuitem-text"},ye={class:"p-menuitem-text"},me={key:0,class:"p-panelmenu-content"};function be(e,t,a,o,d,l){const p=g("router-link"),r=g("PanelMenuSub");return s(),i("div",ue,[(s(!0),i(f,null,w(a.model,(n,u)=>(s(),i(f,{key:l.label(n)+"_"+u},[l.visible(n)?(s(),i("div",{key:0,class:l.getPanelClass(n),style:n.style},[c("div",{class:l.getHeaderClass(n),style:n.style},[e.$slots.item?(s(),i(j(e.$slots.item),{key:1,item:n},null,8,["item"])):(s(),i(f,{key:0},[n.to&&!l.disabled(n)?(s(),i(p,{key:0,to:n.to,custom:""},{default:_(({navigate:y,href:k,isActive:x,isExactActive:h})=>[c("a",{href:k,class:l.getHeaderLinkClass(n,{isActive:x,isExactActive:h}),onClick:C=>l.onItemClick(C,n,y),role:"treeitem"},[n.icon?(s(),i("span",{key:0,class:l.getPanelIcon(n)},null,2)):b("",!0),c("span",pe,v(l.label(n)),1)],10,["href","onClick"])]),_:2},1032,["to"])):(s(),i("a",{key:1,href:n.url,class:l.getHeaderLinkClass(n),onClick:y=>l.onItemClick(y,n),tabindex:l.disabled(n)?null:"0","aria-expanded":l.isActive(n),id:l.ariaId+"_header_"+u,"aria-controls":l.ariaId+"_content_"+u},[n.items?(s(),i("span",{key:0,class:l.getPanelToggleIcon(n)},null,2)):b("",!0),n.icon?(s(),i("span",{key:1,class:l.getPanelIcon(n)},null,2)):b("",!0),c("span",ye,v(l.label(n)),1)],10,["href","onClick","tabindex","aria-expanded","id","aria-controls"]))],64))],6),c(z,{name:"p-toggleable-content"},{default:_(()=>[H(c("div",{class:"p-toggleable-content",role:"region",id:l.ariaId+"_content_"+u,"aria-labelledby":l.ariaId+"_header_"+u},[n.items?(s(),i("div",me,[c(r,{model:n.items,class:"p-panelmenu-root-submenu",template:e.$slots.item,expandedKeys:a.expandedKeys,onItemToggle:l.updateExpandedKeys,exact:a.exact},null,8,["model","template","expandedKeys","onItemToggle","exact"])])):b("",!0)],8,["id","aria-labelledby"]),[[V,l.isActive(n)]])]),_:2},1024)],6)):b("",!0)],64))),128))])}function he(e,t){t===void 0&&(t={});var a=t.insertAt;if(!(!e||typeof document=="undefined")){var o=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",a==="top"&&o.firstChild?o.insertBefore(d,o.firstChild):o.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e))}}var fe=`
.p-panelmenu .p-panelmenu-header-link {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    cursor: pointer;
    position: relative;
    text-decoration: none;
}
.p-panelmenu .p-panelmenu-header-link:focus {
    z-index: 1;
}
.p-panelmenu .p-submenu-list {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-panelmenu .p-menuitem-link {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    cursor: pointer;
    text-decoration: none;
}
.p-panelmenu .p-menuitem-text {
    line-height: 1;
}
`;he(fe);R.render=be;const ve=K({props:{playbook:null},emits:["save","navigate"],setup(e,{emit:t}){const a=e,o=D(),d=(r,n)=>n.path.find(u=>u.equals(o.cache.get(a.playbook.id)))?E(S({},r),{class:"font-bold"}):r,l=r=>[{label:"Startseite",icon:"pi pi-angle-left",to:"/mitra-frontend/"},{key:"1",label:a.playbook.title,to:`/mitra-frontend/playbook/${a.playbook.id}`,items:r.map((n,u)=>d({label:`${u+1}. ${n.text}`,command:()=>t("navigate",n.path[0])},n))},{label:"Speichern",icon:"pi pi-fw pi-download",command:()=>t("save")}];o.$subscribe(()=>{p.value=l(a.playbook.modules)});const p=A(l(a.playbook.modules));return(r,n)=>(s(),i(I(R),{model:p.value,"expanded-keys":{"1":!0},class:"w-70"},null,8,["model"]))}});const ke=e=>(Q("data-v-b45dcdb0"),e=e(),W(),e),xe={class:"font-bold text-xl"},_e={class:"flex h-full"},ge={class:"flex-none"},Ie={class:"flex-1 p-8"},Ce=ke(()=>m("h2",{class:"font-bold text-lg"},"Module",-1)),Se={open:""},we={class:"text-lg"},Ke=K({props:{id:null},setup(e){const t=e,a=D(),o=ee(),l=$().findById(t.id),p=A(l.title),r=A(),n=()=>{l.title=p.value,r.value.close()},u=()=>{o.save(l)},y=k=>{a.rememberCurrentStep(l,k)};return(k,x)=>(s(),B(f,null,[m("header",null,[c(I(F),{ref_key:"edittitle",ref:r,closable:!0},{display:_(()=>[m("h1",xe,v(p.value),1)]),content:_(()=>[c(I(Z),{modelValue:p.value,"onUpdate:modelValue":x[0]||(x[0]=h=>p.value=h),onKeyup:M(n,["enter"])},null,8,["modelValue","onKeyup"])]),_:1},512)]),m("div",_e,[m("nav",ge,[c(ve,{playbook:I(l),onSave:u,onNavigate:y},null,8,["playbook"])]),m("main",Ie,[m("section",null,[Ce,m("ol",null,[(s(!0),B(f,null,w(I(l).modules,h=>(s(),B("li",{key:h.id,class:"mt-4 border p-4 shadow-md"},[m("details",Se,[m("summary",we,v(h.text),1),m("p",null,v(h.steps.length)+" Fragen",1)])]))),128))])])])])],64))}});var Ae=te(Ke,[["__scopeId","data-v-b45dcdb0"]]);const je=K({props:{id:null},setup(e){return(t,a)=>(s(),i(Ae,{id:e.id},null,8,["id"]))}});export{je as default};
