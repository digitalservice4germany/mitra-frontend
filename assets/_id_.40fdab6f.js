import{f as v,a6 as T,p as b,r as S,K as V,o as r,g as y,h as e,i as o,u as s,w as i,a0 as P,a1 as K,F as R,q as D,t as _,L as E,Y as F,c as k,j as x}from"./vendor.0c93a05d.js";import{s as g}from"./button.esm.163025b2.js";import{_ as L,b as q,s as z}from"./SideMenu.20dc6807.js";import{c as I,e as U,d as Y}from"./provide.dd7f03d8.js";import{_ as A}from"./Breadcrumb.0cc85c72.js";import{_ as G}from"./Metadata.bc68f581.js";import"./session.cde53193.js";import"./Contract.6e826346.js";import"./main.2e0d5c01.js";const H={class:"flex h-full"},J={class:"flex-none"},O={class:"flex-1 px-8"},Q={class:"edit"},W=e("p",null,[e("small",null,"Playbook")],-1),X={class:"font-bold text-xl"},Z=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),ee=x(" \xC4ndern "),te={class:"mt-16"},se=e("h2",{class:"font-bold text-lg"},"Module",-1),oe={class:"mt-4 border p-4 shadow-md"},ae={open:""},le={class:"text-lg"},ne=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),ie=x(" Neues Modul "),de=v({props:{id:null},setup(d){const m=d,c=T(),$=Y(),u=I(),t=u.findById(m.id),a=b(t.title),p=b(),j=()=>{p.value.open()},f=()=>{t.title=a.value,p.value.close(),u.save(t)},w=()=>{$.save(t)},B=async n=>{await c.push(`/mitra-frontend/playbook/${t.id}/module/${n.id}`)},C=async()=>{const n=new U;t.addModules(n),u.save(t),await c.push(`/mitra-frontend/playbook/${t.id}/module/${n.id}`)};return(n,h)=>{const M=S("router-link"),N=V("focus");return r(),y("div",H,[e("nav",J,[o(L,{title:a.value,navigatable:s(t),onSave:w,onNavigate:B},null,8,["title","navigatable"])]),e("main",O,[e("header",Q,[o(A,{"current-title":a.value,"parent-items":[]},null,8,["current-title"]),W,o(s(q),{ref_key:"editTitle",ref:p,closable:!1},{display:i(()=>[e("h1",X,_(a.value),1)]),content:i(()=>[E(o(s(z),{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=l=>a.value=l),class:"mr-1","aria-label":"Titel \xE4ndern",onKeyup:F(f,["enter"]),onBlur:f},null,8,["modelValue","onKeyup"]),[[N]])]),_:1},512),o(s(g),{type:"button",onClick:j},{default:i(()=>[Z,ee]),_:1}),o(G,P(K(s(t).metadata)),null,16)]),e("section",te,[se,e("ol",null,[(r(!0),y(R,null,D(s(t).modules,l=>(r(),k(M,{key:l.id,to:`/mitra-frontend/playbook/${s(t).id}/module/${l.id}`,class:"block"},{default:i(()=>[e("li",oe,[e("details",ae,[e("summary",le,_(l.title),1),e("p",null,_(l.steps.length)+" Fragen",1)])])]),_:2},1032,["to"]))),128))]),o(s(g),{type:"button",class:"mt-8",onClick:C},{default:i(()=>[ne,ie]),_:1})])])])}}}),be=v({props:{id:null},setup(d){return(m,c)=>(r(),k(de,{id:d.id,key:d.id},null,8,["id"]))}});export{be as default};
