import{f as g,a6 as N,p as u,K as $,o,g as r,h as e,i as l,u as t,w as c,c as I,l as M,F as V,q as K,t as v,L as D,Y as E,j as f}from"./vendor.301f9710.js";import{s as y}from"./button.esm.beac9337.js";import{_ as R,b as L,s as P}from"./SideMenu.803f66ad.js";import{c as q,T as A,d as U}from"./provide.6d7a4ee6.js";import{_ as Y}from"./Breadcrumb.732c492c.js";import"./session.51340ef0.js";import"./main.3ced2bf6.js";const z={class:"flex h-full"},G={class:"flex-none"},H={class:"flex-1 px-8"},J={class:"edit"},O=e("p",null,[e("small",null,"Modul")],-1),Q={class:"font-bold text-xl"},W=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),X=f(" \xC4ndern "),Z=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," delete ",-1),ee=f(" Modul l\xF6schen "),te={class:"mt-16"},se=e("h2",{class:"font-bold text-lg"},"Fragen",-1),ae=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),oe=f(" Neue Frage "),le={key:1},ne={key:2},ie={open:""},de={class:"text-lg"},re=g({props:{playbookId:null,moduleId:null},setup(n){const p=n,m=N(),_=q(),w=U();let s=u(_.findById(p.playbookId)),a=u(s.value.findModuleById(p.moduleId));const i=u(a.value.title),h=u(),T=()=>{h.value.open()},b=()=>{a.value.title=i.value,h.value.close(),_.save(s.value)},F=()=>{w.save(s.value)},S=async k=>{await m.push(`/mitra-frontend/playbook/${s.value.id}/module/${k.id}/`)},j=async()=>{s.value.removeModule(a.value),_.save(s.value),await m.push(`/mitra-frontend/playbook/${s.value.id}/`)},B=()=>{a.value.addStep(new A("Neue Frage"))};return(k,x)=>{const C=$("focus");return o(),r("div",z,[e("nav",G,[l(R,{title:t(s).title,navigatable:t(s),onSave:F,onNavigate:S},null,8,["title","navigatable"])]),e("main",H,[e("header",J,[l(Y,{"current-title":i.value,"parent-items":[t(s)]},null,8,["current-title","parent-items"]),O,l(t(L),{ref_key:"editTitle",ref:h,closable:!1},{display:c(()=>[e("h1",Q,v(i.value),1)]),content:c(()=>[D(l(t(P),{modelValue:i.value,"onUpdate:modelValue":x[0]||(x[0]=d=>i.value=d),class:"mr-1","aria-label":"Titel \xE4ndern",onKeyup:E(b,["enter"]),onBlur:b},null,8,["modelValue","onKeyup"]),[[C]])]),_:1},512),l(t(y),{type:"button",class:"mx-2",onClick:T},{default:c(()=>[W,X]),_:1}),l(t(y),{type:"button",onClick:j},{default:c(()=>[Z,ee]),_:1})]),e("section",te,[se,t(a).steps.length===0?(o(),I(t(y),{key:0,type:"button",class:"mt-8",onClick:B},{default:c(()=>[ae,oe]),_:1})):M("",!0),t(a).steps.length===0?(o(),r("span",le," F\xFCr dieses Modul wurden noch keine Fragen erstellt. ")):(o(),r("ol",ne,[(o(!0),r(V,null,K(t(a).steps,d=>(o(),r("li",{key:d.id,class:"mt-4 border p-4 shadow-md"},[e("details",ie,[e("summary",de,v(d.text),1),e("p",null,"Typ: "+v(d.type),1)])]))),128))]))])])])}}}),fe=g({props:{playbookId:null,moduleId:null},setup(n){return(p,m)=>(o(),I(re,{key:n.moduleId,"playbook-id":n.playbookId,"module-id":n.moduleId},null,8,["playbook-id","module-id"]))}});export{fe as default};
