import{f as b,a7 as T,q as v,r as S,L as V,o as d,g as y,h as e,j as a,u as s,w as i,a1 as P,a2 as R,F as D,s as E,t as p,M as F,_ as K,c as k,k as x}from"./vendor.0be2fb2e.js";import{s as g}from"./button.esm.75cd8d93.js";import{_ as L,b as q,s as z}from"./SideMenu.dc186e6b.js";import{c as I,e as U,d as A}from"./provide.c657d617.js";import{_ as G}from"./Breadcrumb.1995f7ef.js";import{_ as H}from"./Metadata.2af703be.js";import"./session.ab4c07a9.js";import"./Contract.6e826346.js";import"./main.2ccca9b1.js";const J={class:"flex h-full"},O={class:"flex-none"},Q={class:"flex-1 px-8"},W={class:"edit"},X=e("p",null,[e("small",null,"Playbook")],-1),Y={class:"font-bold text-xl"},Z=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),ee=x(" \xC4ndern "),te={class:"mt-16"},se=e("h2",{class:"font-bold text-lg"},"Module",-1),ae={class:"mt-4 border p-4 shadow-md"},oe={open:""},le={class:"text-lg"},ne=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),ie=x(" Neues Modul "),re=b({props:{id:null},setup(r){const m=r,c=T(),$=A(),u=I(),t=u.findById(m.id),o=v(t.title),_=v(),j=()=>{_.value.open()},f=()=>{t.title=o.value,_.value.close(),u.save(t)},w=()=>{$.save(t)},M=async n=>{await c.push(`/mitra-frontend/playbook/${t.id}/module/${n.id}`)},B=async()=>{const n=new U;t.addModules(n),u.save(t),await c.push(`/mitra-frontend/playbook/${t.id}/module/${n.id}`)};return(n,h)=>{const C=S("router-link"),N=V("focus");return d(),y("div",J,[e("nav",O,[a(L,{title:o.value,navigatable:s(t),onSave:w,onNavigate:M},null,8,["title","navigatable"])]),e("main",Q,[e("header",W,[a(G,{"current-title":o.value,"parent-items":[]},null,8,["current-title"]),X,a(s(q),{ref_key:"editTitle",ref:_,closable:!1},{display:i(()=>[e("h1",Y,p(o.value),1)]),content:i(()=>[F(a(s(z),{modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=l=>o.value=l),class:"mr-1","aria-label":"Titel \xE4ndern",onKeyup:K(f,["enter"]),onBlur:f},null,8,["modelValue","onKeyup"]),[[N]])]),_:1},512),a(s(g),{type:"button",onClick:j},{default:i(()=>[Z,ee]),_:1}),a(H,P(R(s(t).metadata)),null,16)]),e("section",te,[se,e("ol",null,[(d(!0),y(D,null,E(s(t).modules,l=>(d(),k(C,{key:l.id,to:`/mitra-frontend/playbook/${s(t).id}/module/${l.id}`,class:"block"},{default:i(()=>[e("li",ae,[e("details",oe,[e("summary",le,p(l.title),1),e("p",null,p(l.steps.length)+" Fragen",1)])])]),_:2},1032,["to"]))),128))]),a(s(g),{type:"button",class:"mt-8",onClick:B},{default:i(()=>[ne,ie]),_:1})])])])}}}),ve=b({props:{id:null},setup(r){return(m,c)=>(d(),k(re,{id:r.id,key:r.id},null,8,["id"]))}});export{ve as default};
