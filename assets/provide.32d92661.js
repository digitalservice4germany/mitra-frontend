var O=Object.defineProperty;var B=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var k=(e,t,n)=>(B(e,typeof t!="symbol"?t+"":t,n),n),H=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var C=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var g=(e,t,n)=>(H(e,t,"access private method"),n);import{D as i,n as Y,p as q,o as p,c as f,l as G,m,h as U,t as T}from"./vendor.71713098.js";function W(e){e.addEventListener("mousedown",P)}function J(e){e.removeEventListener("mousedown",P)}function X(e){let t=document.createElement("span");t.className="p-ink",e.appendChild(t),t.addEventListener("animationend",A)}function $(e){let t=E(e);t&&(J(e),t.removeEventListener("animationend",A),t.remove())}function P(e){let t=e.currentTarget,n=E(t);if(!n||getComputedStyle(n,null).display==="none")return;if(i.removeClass(n,"p-ink-active"),!i.getHeight(n)&&!i.getWidth(n)){let u=Math.max(i.getOuterWidth(t),i.getOuterHeight(t));n.style.height=u+"px",n.style.width=u+"px"}let s=i.getOffset(t),r=e.pageX-s.left+document.body.scrollTop-i.getWidth(n)/2,o=e.pageY-s.top+document.body.scrollLeft-i.getHeight(n)/2;n.style.top=o+"px",n.style.left=r+"px",i.addClass(n,"p-ink-active")}function A(e){i.removeClass(e.currentTarget,"p-ink-active")}function E(e){for(let t=0;t<e.children.length;t++)if(typeof e.children[t].className=="string"&&e.children[t].className.indexOf("p-ink")!==-1)return e.children[t];return null}const _={mounted(e,t){t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.ripple&&(X(e),W(e))},unmounted(e){$(e)}};var z={name:"Button",props:{label:{type:String},icon:{type:String},iconPos:{type:String,default:"left"},badge:{type:String},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"}},computed:{buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label}},iconClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&String(this.badge).length===1}]},disabled(){return this.$attrs.disabled||this.loading}},directives:{ripple:_}};const K={class:"p-button-label"};function Q(e,t,n,s,r,o){const u=Y("ripple");return q((p(),f("button",{class:o.buttonClass,type:"button",disabled:o.disabled},[G(e.$slots,"default",{},()=>[n.loading&&!n.icon?(p(),f("span",{key:0,class:o.iconClass},null,2)):m("",!0),n.icon?(p(),f("span",{key:1,class:o.iconClass},null,2)):m("",!0),U("span",K,T(n.label||"\xA0"),1),n.badge?(p(),f("span",{key:2,class:o.badgeStyleClass},T(n.badge),3)):m("",!0)])],10,["disabled"])),[[u]])}z.render=Q;var h,Z=new Uint8Array(16);function j(){if(!h&&(h=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(Z)}var tt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function et(e){return typeof e=="string"&&tt.test(e)}var a=[];for(var y=0;y<256;++y)a.push((y+256).toString(16).substr(1));function nt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!et(n))throw TypeError("Stringified UUID is invalid");return n}function st(e,t,n){e=e||{};var s=e.random||(e.rng||j)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=s[r];return t}return nt(s)}const at=e=>e instanceof d;class d{constructor(t=st()){this.id=t,this.id=t}equals(t){return t==null?!1:this===t?!0:at(t)?this.id===t.id:!1}}class R extends d{constructor(t=[],n){super(n);this.modules=t}addModules(...t){this.modules.push(...t)}}const it={id:"db2a1d38-01fb-4ea2-bc6f-b5213413c809",modules:[{id:"0b141639-8718-4ad9-9839-ec89aa8a1ec4",text:"Rubrum",steps:[{id:"06817a49-dd7b-4d8a-9c5b-77702e913a30",text:"Schritt 1.1",type:"TextAnswerStep",answer:{}},{id:"c22cb3a2-2f89-47eb-b90c-a11f427ca6c8",text:"Schritt 1.2",type:"TextAnswerStep",answer:{}},{id:"f7e2bb12-ba14-4686-8513-afbdcab276a8",text:"Schritt 1.3",type:"TextAnswerStep",answer:{}}]},{id:"2407b57d-dfb2-487e-a4b2-d9f6f720cebe",text:"Gegenstand und Bestandteile des Vertrags",steps:[{id:"203e3a8f-e8c7-45b7-86e7-e6390393a348",text:"Schritt 2.1",type:"TextAnswerStep",answer:{}},{id:"0b570aab-fa1b-4d93-aab3-35250b8590dc",text:"Schritt 2.2",type:"TextAnswerStep",answer:{}},{id:"c8a04406-bba5-4968-bf2a-54122f58fbc3",text:"Schritt 2.3",type:"TextAnswerStep",answer:{}}]},{id:"d00fdd08-805a-4c11-8e19-c57ca770f09f",text:"Gegenstand der Leistungen",steps:[{id:"28acb64b-2c87-44c2-a112-10128a1ca546",text:"Schritt 3.1",type:"TextAnswerStep",answer:{}},{id:"3f460bf7-305f-4d53-a01b-074aa148c179",text:"Schritt 3.2",type:"TextAnswerStep",answer:{}},{id:"3cd87b83-60fa-4fd3-953b-fb0ad6d57a46",text:"Schritt 3.3",type:"TextAnswerStep",answer:{}},{id:"253a3dcf-9731-4537-8be3-908ec0e0c887",text:"Schritt 3.4",type:"TextAnswerStep",answer:{}}]}]};class w extends d{constructor(t,n=[],s){super(s);this.text=t,this.steps=n}addSteps(...t){this.steps.push(...t)}clone(){return new w(this.text,this.steps.map(t=>t.clone()))}}class rt{}class V extends rt{constructor(t=""){super();this.value=t}getValue(){return this.value}setValue(t){this.value=t}toString(){return this.value}}class ot extends d{constructor(t,n,s,r){super(r);this.text=t,this.type=n,this.answer=s}getType(){return this.type}getAnswer(){return this.answer}setAnswer(t){this.answer.setValue(t)}}const b=class extends ot{constructor(t,n=new V,s){super(t,b.TYPE,n,s)}clone(){return new b(this.text,this.answer)}};let l=b;k(l,"TYPE","TextAnswerStep");var c,L;const v=class extends d{constructor(t,n,s){super(s);C(this,c);this.title=t,this.modules=n}static fromPlaybook(t){const n=t.modules.map(s=>s.clone());return new v("",n)}getSteps(){return this.modules.flatMap(t=>t.steps)}getNextStepFor(t){return this.getSteps()[g(this,c,L).call(this,t)+1]}getPreviousStepFor(t){return this.getSteps()[g(this,c,L).call(this,t)-1]}getModules(){return this.modules}getModuleFor(t){return this.modules.find(n=>n.steps.find(s=>s.equals(t)))}};let x=v;c=new WeakSet,L=function(t){return this.getSteps().findIndex(n=>n.equals(t))};function N(e){const t=e.modules.map(D);return new R(t,e.id)}function dt(e){const t=e.modules.map(D);return new x(e.title,t,e.id)}function D(e){const t=e.steps.map(lt);return new w(e.text,t,e.id)}function lt(e){return l.TYPE===e.type?new l(e.text,new V(e.answer.value),e.id):new l("")}const S=new Map,F=N(it);S.set(F.id,F);const ct={load(e){return S.get(e)||new R},save(e){S.set(e.id,e)}},M=new Map,ut={load(e){return M.get(e)||new x("",[])},save(e){M.set(e.id,e)}};async function I(e){const t=new FileReader;return t.readAsText(e),await new Promise(n=>{t.onload=()=>{n(t.result)}})}const pt={load:async e=>{const t=await I(e),n=JSON.parse(t).playbook;return N(n)}},ft={load:async e=>{const t=await I(e),n=JSON.parse(t);return dt(n)}},gt=()=>ct,mt=()=>ut,yt=()=>pt,wt=()=>ft;export{x as C,_ as R,l as T,mt as a,wt as b,gt as c,yt as m,z as s};
