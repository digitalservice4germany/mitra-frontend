import{f as k,a6 as M,p as d,K as S,o as r,g as v,h as e,i as s,u as o,w as u,F as V,q as C,t as f,L as N,Y as F,j as x,c as K}from"./vendor.301f9710.js";import{s as g}from"./button.esm.beac9337.js";import{_ as D,b as R,s as E}from"./SideMenu.803f66ad.js";import{c as L,d as P}from"./provide.1a5456d4.js";import{_ as q}from"./Breadcrumb.2a3f64e3.js";import"./session.51340ef0.js";import"./main.930667e4.js";const U={class:"flex h-full"},Y={class:"flex-none"},z={class:"flex-1 px-8"},A={class:"edit"},G=e("p",null,[e("small",null,"Modul")],-1),H={class:"font-bold text-xl"},J=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," delete ",-1),O=x(" \xC4ndern "),Q=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),W=x(" Modul l\xF6schen "),X={class:"mt-16"},Z=e("h2",{class:"font-bold text-lg"},"Fragen",-1),ee={open:""},te={class:"text-lg"},oe=k({props:{playbookId:null,moduleId:null},setup(a){const c=a,m=M(),p=L(),I=P();let t=d(p.findById(c.playbookId)),i=d(t.value.findModuleById(c.moduleId));const l=d(i.value.title),_=d(),j=()=>{_.value.open()},y=()=>{i.value.title=l.value,_.value.close(),p.save(t.value)},B=()=>{I.save(t.value)},$=async h=>{await m.push(`/mitra-frontend/playbook/${t.value.id}/module/${h.id}/`)},w=async()=>{t.value.removeModule(i.value),p.save(t.value),await m.push(`/mitra-frontend/playbook/${t.value.id}/`)};return(h,b)=>{const T=S("focus");return r(),v("div",U,[e("nav",Y,[s(D,{title:o(t).title,navigatable:o(t),onSave:B,onNavigate:$},null,8,["title","navigatable"])]),e("main",z,[e("header",A,[s(q,{"current-title":l.value,"parent-items":[o(t)]},null,8,["current-title","parent-items"]),G,s(o(R),{ref_key:"editTitle",ref:_,closable:!1},{display:u(()=>[e("h1",H,f(l.value),1)]),content:u(()=>[N(s(o(E),{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=n=>l.value=n),class:"mr-1",onKeyup:F(y,["enter"]),onBlur:y},null,8,["modelValue","onKeyup"]),[[T]])]),_:1},512),s(o(g),{type:"button",class:"mx-2",onClick:j},{default:u(()=>[J,O]),_:1}),s(o(g),{type:"button",onClick:w},{default:u(()=>[Q,W]),_:1})]),e("section",X,[Z,e("ol",null,[(r(!0),v(V,null,C(o(i).steps,n=>(r(),v("li",{key:n.id,class:"mt-4 border p-4 shadow-md"},[e("details",ee,[e("summary",te,f(n.text),1),e("p",null,"Typ: "+f(n.type),1)])]))),128))])])])])}}}),ue=k({props:{playbookId:null,moduleId:null},setup(a){return(c,m)=>(r(),K(oe,{key:a.moduleId,"playbook-id":a.playbookId,"module-id":a.moduleId},null,8,["playbook-id","module-id"]))}});export{ue as default};
