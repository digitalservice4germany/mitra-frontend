import{f as b,a6 as S,p as v,r as T,K as V,o as r,g as y,h as e,i as o,u as s,w as i,a0 as P,a1 as K,F as R,q as D,t as _,L as F,Y as E,c as k,j as x}from"./vendor.301f9710.js";import{s as g}from"./button.esm.beac9337.js";import{a as L,_ as U,s as q}from"./Metadata.ab2c7d80.js";import{c as z,e as I,d as Y}from"./provide.bcfe0bca.js";import{_ as A}from"./Breadcrumb.6dc57dc2.js";import{_ as G}from"./SideMenu.8692b98b.js";import"./main.45108e83.js";import"./session.51340ef0.js";const H={class:"flex h-full"},J={class:"flex-none"},O={class:"flex-1 px-8"},Q={class:"edit"},W=e("p",null,[e("small",null,"Playbook")],-1),X={class:"font-bold text-xl"},Z=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),ee=x(" \xC4ndern "),te={class:"mt-16"},se=e("h2",{class:"font-bold text-lg"},"Module",-1),oe={class:"mt-4 border p-4 shadow-md"},ae={open:""},ne={class:"text-lg"},le=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),ie=x(" Neues Modul "),re=b({props:{id:null},setup(d){const m=d,c=S(),$=Y(),u=z(),t=u.findById(m.id),a=v(t.title),p=v(),j=()=>{p.value.open()},f=()=>{t.title=a.value,p.value.close(),u.save(t)},w=()=>{$.save(t)},M=async l=>{await c.push(`/mitra-frontend/playbook/${t.id}/module/${l.id}`)},B=async()=>{const l=new I("Unbenanntes Modul");t.addModules(l),u.save(t),await c.push(`/mitra-frontend/playbook/${t.id}/module/${l.id}`)};return(l,h)=>{const N=T("router-link"),C=V("focus");return r(),y("div",H,[e("nav",J,[o(G,{title:a.value,navigatable:s(t),onSave:w,onNavigate:M},null,8,["title","navigatable"])]),e("main",O,[e("header",Q,[o(A,{"current-title":a.value,"parent-items":[]},null,8,["current-title"]),W,o(s(L),{ref_key:"editTitle",ref:p,closable:!1},{display:i(()=>[e("h1",X,_(a.value),1)]),content:i(()=>[F(o(s(q),{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=n=>a.value=n),class:"mr-1",onKeyup:E(f,["enter"]),onBlur:f},null,8,["modelValue","onKeyup"]),[[C]])]),_:1},512),o(s(g),{type:"button",onClick:j},{default:i(()=>[Z,ee]),_:1}),o(U,P(K(s(t).metadata)),null,16)]),e("section",te,[se,e("ol",null,[(r(!0),y(R,null,D(s(t).modules,n=>(r(),k(N,{key:n.id,to:`/mitra-frontend/playbook/${s(t).id}/module/${n.id}`,class:"block"},{default:i(()=>[e("li",oe,[e("details",ae,[e("summary",ne,_(n.title),1),e("p",null,_(n.steps.length)+" Fragen",1)])])]),_:2},1032,["to"]))),128))]),o(s(g),{type:"button",class:"mt-8",onClick:B},{default:i(()=>[le,ie]),_:1})])])])}}}),be=b({props:{id:null},setup(d){return(m,c)=>(r(),k(re,{id:d.id},null,8,["id"]))}});export{be as default};
