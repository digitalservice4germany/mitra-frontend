import{f as k,a7 as V,q as v,r as P,L as S,o as d,g as y,h as e,j as o,u as s,w as i,a1 as R,a2 as D,F as E,s as F,t as p,M as K,_ as L,c as x,k as g}from"./vendor.0be2fb2e.js";import{s as b}from"./button.esm.75cd8d93.js";import{_ as j,b as q,s as z}from"./SideMenu.dc186e6b.js";import{c as I,e as U,d as A}from"./provide.4881203b.js";import{_ as G}from"./Breadcrumb.3dff2f9c.js";import{_ as H}from"./Metadata.2af703be.js";import"./session.ab4c07a9.js";import"./Contract.6e826346.js";import"./main.c506771a.js";const J={class:"flex h-full"},O={class:"flex-none"},Q={class:"flex-1 px-8"},W={class:"edit"},X=e("p",null,[e("small",null,"Playbook")],-1),Y={class:"font-bold text-xl"},Z=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," edit ",-1),ee=g(" \xC4ndern "),te={class:"mt-16"},se=e("h2",{class:"font-bold text-lg"},"Module",-1),oe={class:"mt-4 border p-4 shadow-md"},ae={open:""},le={class:"text-lg"},ne=e("span",{class:"material-icons-outlined text-base","aria-hidden":"true"}," add ",-1),ie=g(" Neues Modul "),re=k({props:{id:null},setup(r){const m=r,c=V(),$=A(),u=I(),t=u.findById(m.id),a=v(t.title),_=v(),w=()=>{_.value.open()},f=()=>{t.title=a.value,_.value.close(),u.save(t)},N=()=>{$.save(t)},T=async n=>{await c.push(`/mitra-frontend/playbook/${t.id}/module/${n.id}`)},B=async()=>{const n=new U;t.addModules(n),u.save(t),await c.push(`/mitra-frontend/playbook/${t.id}/module/${n.id}`)};return(n,h)=>{const C=P("router-link"),M=S("focus");return d(),y("div",J,[e("nav",O,[o(j,{title:a.value,navigatable:s(t),onSave:N,onNavigate:T},null,8,["title","navigatable"])]),e("main",Q,[e("header",W,[o(G,{"current-title":a.value,"parent-items":[]},null,8,["current-title"]),X,o(s(q),{ref_key:"editTitle",ref:_,closable:!1},{display:i(()=>[e("h1",Y,p(a.value),1)]),content:i(()=>[K(o(s(z),{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=l=>a.value=l),class:"mr-1","aria-label":"Titel \xE4ndern",onKeyup:L(f,["enter"]),onBlur:f},null,8,["modelValue","onKeyup"]),[[M]])]),_:1},512),o(s(b),{type:"button",onClick:w},{default:i(()=>[Z,ee]),_:1}),o(H,R(D(s(t).metadata)),null,16)]),e("section",te,[se,e("ol",null,[(d(!0),y(E,null,F(s(t).modules,l=>(d(),x(C,{key:l.id,to:`/mitra-frontend/playbook/${s(t).id}/module/${l.id}`,class:"block"},{default:i(()=>[e("li",oe,[e("details",ae,[e("summary",le,p(l.title),1),e("p",null,p(l.steps.length)+" Fragen",1)])])]),_:2},1032,["to"]))),128))]),o(s(b),{type:"button",class:"mt-8",onClick:B},{default:i(()=>[ne,ie]),_:1})])])])}}}),ye=k({props:{id:null},setup(r){return(m,c)=>(d(),x(re,{id:r.id,key:r.id},null,8,["id"]))}});export{ye as default};
