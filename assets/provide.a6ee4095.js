var A=Object.defineProperty;var E=(e,t,s)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var l=(e,t,s)=>(E(e,typeof t!="symbol"?t+"":t,s),s),b=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var g=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)};var w=(e,t,s)=>(b(e,t,"access private method"),s);var d,F=new Uint8Array(16);function T(){if(!d&&(d=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(F)}var V=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function J(e){return typeof e=="string"&&V.test(e)}var n=[];for(var h=0;h<256;++h)n.push((h+256).toString(16).substr(1));function I(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase();if(!J(s))throw TypeError("Stringified UUID is invalid");return s}function N(e,t,s){e=e||{};var o=e.random||(e.rng||T)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){s=s||0;for(var c=0;c<16;++c)t[s+c]=o[c];return t}return I(o)}const q=e=>e instanceof a;class a{constructor(){l(this,"id");this.id=N()}equals(t){return t==null?!1:this===t?!0:q(t)?this.id===t.id:!1}}class G{}class L extends G{constructor(t=""){super();this.answer=t}getAnswer(){return this.answer}setAnswer(t){this.answer=t}toString(){return this.answer}}class y extends a{constructor(t,s){super();this.text=t,this.answer=s}getAnswer(){return this.answer}setAnswer(t){this.answer.setAnswer(t)}static fromJson(t){return new r(t.text)}}const p=class extends y{constructor(t,s=new L){super(t,s)}getType(){return p.TYPE}clone(){return new p(this.text,this.answer)}};let r=p;l(r,"TYPE","TextAnswerStep");class i extends a{constructor(t,s=[]){super();this.text=t,this.steps=s}addSteps(...t){this.steps.push(...t)}clone(){return new i(this.text,this.steps.map(t=>t.clone()))}static fromJson(t){const s=t.steps.map(y.fromJson);return new i(t.text,s)}}class m extends a{constructor(t=[]){super();this.modules=t}addModules(...t){this.modules.push(...t)}static fromJson(t){const s=t.modules.map(i.fromJson);return new m(s)}}const M=new r("Schritt 1.1"),U=new r("Schritt 1.2"),B=new r("Schritt 1.3"),H=new r("Schritt 2.1"),Y=new r("Schritt 2.2"),$=new r("Schritt 2.3"),D=new r("Schritt 3.1"),O=new r("Schritt 3.2"),W=new r("Schritt 3.3"),X=new r("Schritt 3.4"),S=new i("Rubrum"),x=new i("Gegenstand und Bestandteile des Vertrags"),v=new i("Gegenstand der Leistungen");S.addSteps(M,U,B);x.addSteps(H,Y,$);v.addSteps(D,O,W,X);const k=new m;k.addModules(S,x,v);let P;const z={load(){return P||k},save(e){P=e}};var u,C;const f=class extends a{constructor(t,s){super();g(this,u);this.title=t,this.modules=s}static fromPlaybook(t){const s=t.modules.map(o=>o.clone());return new f("",s)}getSteps(){return this.modules.flatMap(t=>t.steps)}getNextStepFor(t){return this.getSteps()[w(this,u,C).call(this,t)+1]}getPreviousStepFor(t){return this.getSteps()[w(this,u,C).call(this,t)-1]}getModules(){return this.modules}getModuleFor(t){return this.modules.find(s=>s.steps.find(o=>o.equals(t)))}};let R=f;u=new WeakSet,C=function(t){return this.getSteps().findIndex(s=>s.equals(t))};function K(e){return e.title.toLowerCase().replace(/\s/g,"-")}async function Q(e,t){const s=await e.createWritable();await s.write(t),await s.close()}const Z={load(){return new R("",[])},async save(e){if(window.showSaveFilePicker){const t=await window.showSaveFilePicker({suggestedName:K(e),startIn:"desktop",types:[{accept:{"application/json":[".json"]}}]});await Q(t,JSON.stringify(e))}}},_=()=>z,tt=()=>Z;export{R as C,m as P,r as T,tt as a,k as c,_ as m};
